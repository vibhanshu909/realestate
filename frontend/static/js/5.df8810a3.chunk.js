(window.webpackJsonp=window.webpackJsonp||[]).push([[5,11,14,15],{689:function(e,t,a){"use strict";a.r(t),a.d(t,"siteColumnData",function(){return P}),a.d(t,"siteExclude",function(){return w});var n=a(23),r=a(26),i=a.n(r),c=a(45),l=a(32),u=a(59),o=a.n(u),s=a(25),d=a(0),b=a.n(d),m=a(58),p=a(57),f=a(99),v=a(73),y=a(244),h=a(79),g=a(34),E=a(146),O=a(78),j=a(245),S=a(123),P=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"entryCount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Entries"},{id:"lastEntryDate",numeric:!1,disablePadding:!1,colSpan:1,label:"Last Entry On"},{id:"manager",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager"},{id:"managerSpentAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager Spent Amount (\u20b9)"},{id:"Total Cost",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Cost (\u20b9)"}],w=["id","count","total","createdAt","updatedAt","__typename"],x=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit},lastEntryOn:{padding:"0 !important"}})})(function(e){var t=e.classes,a=e.history,r=Object(l.a)(e,["classes","history"]);return b.a.createElement("div",null,b.a.createElement(o.a,{container:!0,className:t.root},b.a.createElement(o.a,{item:!0,xs:12},b.a.createElement(m.a,{mutation:E.g},function(e,u){return b.a.createElement(p.a,{query:h.g},function(u){var o=u.data.siteTable;return b.a.createElement(m.a,{mutation:O.g},function(u){var s=o.page,d=o.rowsPerPage;return b.a.createElement(p.a,{query:g.h,variables:{limit:d,skip:s*d}},function(s){var d=s.loading,m=s.data,p=s.refetch;return b.a.createElement(j.a,Object.assign({},r,{loading:d,data:m.sites,title:"Sites",settings:o,count:m.sites.length&&m.sites[0].count||m.sites.length,columnData:P,exclude:w,options:{onView:function(e){return a.push(v.a.Site.detail({id:e}))},onDelete:function(){var t=Object(c.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u({variables:a});case 2:return t.next=4,e({variables:f.a.siteTable});case 4:p();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onAdd:function(){return a.push(v.a.Site.create())}},render:Object(S.b)({match:"managerSpentAmount",classes:function(e){return"lastEntryDate"===e?t.lastEntryOn:""},renderValue:function(e){var t=e.key,a=e.value,r=Object(l.a)(e,["key","value"]);return"lastEntryDate"===t?Object(S.a)(Object(n.a)({key:t,value:Object(y.a)(a)},r)):Object(S.a)(Object(n.a)({key:t,value:a},r))}}),mutate:function(){var t=Object(c.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({variables:a});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}))})})})}))))});t.default=x},690:function(e,t,a){"use strict";var n=a(51);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(53)).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.default.createElement("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})),"PersonAdd");t.default=i},691:function(e,t,a){"use strict";var n=a(17),r=a(24),i=a(19),c=a(18),l=a(20),u=a(147),o=a.n(u),s=a(25),d=a(339),b=a.n(d),m=a(340),p=a.n(m),f=a(39),v=a.n(f),y=a(0),h=a.n(y),g=a(693),E=a.n(g),O=a(58),j=a(57);function S(e){var t=e.children,a=e.dir;return h.a.createElement(v.a,{component:"div",dir:a},t)}var P=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{backgroundColor:e.palette.background.paper,width:"100%"},app:{marginTop:8*e.spacing.unit},content:{marginTop:5*e.spacing.unit},selected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText}})},{withTheme:!0})(function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.props,r=n.defaults,i=n.localStateQuery,c=n.localStateMutation,l={tabs:[],containers:[]};return r.map(function(e){return l.tabs.push(h.a.createElement(b.a,{label:e.tab,key:e.tab,classes:{selected:t.selected}})),l.containers.push(h.a.createElement(S,{dir:a.direction,key:e.tab+"_container"},e.container)),null}),h.a.createElement(O.a,{mutation:c},function(e){return h.a.createElement(j.a,{query:i},function(n){var r=n.data,i=r[Object.keys(r)[0]];return h.a.createElement("div",{className:t.root},h.a.createElement(o.a,{color:"default",className:t.app},h.a.createElement(p.a,{value:i.value,onChange:function(t,a){return e({variables:{value:a}})},indicatorColor:"secondary"},l.tabs)),h.a.createElement(E.a,{className:t.content,axis:"rtl"===a.direction?"x-reverse":"x",index:i.value,onChangeIndex:function(t){return e({variables:{value:t}})}},l.containers))})})}}]),t}(h.a.PureComponent));t.a=P},692:function(e,t,a){"use strict";a.r(t),a.d(t,"userColumnData",function(){return D}),a.d(t,"userExclude",function(){return T});var n=a(26),r=a.n(n),i=a(45),c=a(32),l=a(59),u=a.n(l),o=a(25),s=a(690),d=a.n(s),b=a(253),m=a.n(b),p=a(0),f=a.n(p),v=a(250),y=a(245),h=a(181),g=a(58),E=a(247),O=a(146),j=a(78),S=a(79),P=a(34),w=a(99),x=a(73),C=a(123),k=a(100),A=a(248),D=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"username",numeric:!1,disablePadding:!1,colSpan:1,label:"Username"},{id:"contact",numeric:!1,disablePadding:!1,colSpan:1,label:"Phone Number"},{id:"siteCount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Sites"},{id:"totalSitesCost",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Sites Cost (\u20b9)"},{id:"totalReceivedAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Received Amount (\u20b9)"},{id:"spent",numeric:!1,disablePadding:!1,colSpan:1,label:"Spent Amount (\u20b9)"},{id:"balance",numeric:!1,disablePadding:!1,colSpan:1,label:"Balance Amount (\u20b9)"}],T=["id","count","sites","createdAt","updatedAt","__typename"],N=Object(o.withStyles)(function(e){return Object(o.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=Object(c.a)(e,["classes","history"]),l=w.a.userEntryTable;return f.a.createElement("div",null,f.a.createElement(u.a,{container:!0,className:t.root},f.a.createElement(u.a,{item:!0,xs:12},f.a.createElement(E.a,{tableMutation:O.h,tableQuery:S.h,dataQuery:P.l,defaultState:l},function(e,t,c){var l=c.loading,u=c.data,o=c.refetch;return f.a.createElement(g.a,{mutation:j.i},function(c,s){var b=s.loading;return f.a.createElement(y.a,Object.assign({},n,{loading:l||b,data:u.users,title:"Users",settings:e,count:u.users.length&&u.users[0].count||u.users.length,columnData:D,exclude:T,historyable:P.n,primaryButtonIcon:f.a.createElement(d.a,null),menu:function(e){return 1===e.length?f.a.createElement(h.b,{options:[function(t){return f.a.createElement(v.a,Object.assign({},t,{reset:!0,positiveHandler:function(t,a){return t({variables:{id:e[0],data:Object(k.a)(a,["confirmNewPassword"])}})}}),f.a.createElement(h.a,Object.assign({},t,{icon:f.a.createElement(m.a,null),content:"Reset Password",tooltip:"Reset Password"})))}]}):null},options:{onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),onDelete:function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({variables:a});case 2:return e.next=4,t({variables:w.a.userEntryTable});case 4:o();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onAdd:function(){return a.push(x.a.User.create())},onEdit:function(e){return a.push(x.a.User.update({id:e,edit:!0}))}},render:Object(C.b)({match:"spent",renderValue:function(e){var t=e.key,a=e.value;return"contact"===t?{value:Object(A.a)(a)}:Object(C.a)({key:t,value:a})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}))})}))))});t.default=N},695:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a.n(n),i=a(45),c=a(23),l=a(32),u=a(21),o=a(59),s=a.n(o),d=a(25),b=a(252),m=a.n(b),p=a(0),f=a.n(p),v=a(17),y=a(24),h=a(19),g=a(18),E=a(20),O=a(38),j=a.n(O),S=a(85),P=a.n(S),w=a(68),x=a.n(w),C=a(72),k=a.n(C),A=a(70),D=a.n(A),T=a(71),N=a.n(T),Q=a(69),R=a.n(Q),M=a(52),B=a.n(M),H=a(101),V=a.n(H),_=a(251),z=a.n(_),F=a(49),U=a(78),q=a(244),I=a(80),L=a(58),J=a(56),G={amount:{type:"number",default:0,startAdornment:f.a.createElement(V.a,{position:"start"},"\u20b9")},note:{type:"text",default:""},nextDueDate:{type:"date",default:Object(q.c)(),validate:function(e){return new Date(e).getTime()<=new Date(Object(q.c)()).getTime()?"Must be a future date":null}}},K=Object(d.withStyles)(J.b)(function(e){function t(){return Object(v.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open,a=this.props,n=a.classes,r=a.history,i=a.selected,c=a.negativeHandler,l=void 0===c?function(){return e.handleClose()}:c,o=a.positiveHandler,s=void 0===o?function(){return null}:o,d=a.postMutation,b=void 0===d?function(){return null}:d,m="Add Credit";return f.a.createElement("div",null,f.a.createElement(L.a,{mutation:U.k},function(a,c){var o=c.loading,d=c.error;c.data;return f.a.createElement(f.a.Fragment,null,f.a.createElement(B.a,{"aria-label":"Credit",title:"Credit",onClick:e.handleOpen},f.a.createElement(z.a,null)),t?f.a.createElement(x.a,{fullScreen:!1,open:t,onClose:l,"aria-labelledby":m,title:m},f.a.createElement(F.Form,{onSubmit:function(t){s(a,{data:t},i).then(function(t){b?(b(t),e.handleClose()):r.goBack()})}},f.a.createElement(R.a,{id:m},m),f.a.createElement(D.a,null,f.a.createElement(N.a,null,"Add credit amount to this property."),Object(I.b)(G)),f.a.createElement(k.a,null,o?f.a.createElement(P.a,{className:n.progress}):null,d?f.a.createElement(u.c,{error:!0},d.message):null,f.a.createElement(j.a,{onClick:l,color:"primary",autoFocus:!0},"Cancel"),f.a.createElement(j.a,{size:"large",type:"submit",disabled:o},"Confirm")))):null)}))}}]),t}(J.a)),W=a(245),X=a(57),Y=a(247),Z=a(146),$=a(79),ee=a(34),te=a(99),ae=a(73),ne=a(123),re=a(248),ie=a(246);a.d(t,"propertyColumnData",function(){return ce}),a.d(t,"propertyExclude",function(){return le});var ce=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"price",numeric:!1,disablePadding:!1,colSpan:1,label:"Price (\u20b9)"},{id:"buyer",numeric:!1,disablePadding:!1,colSpan:1,label:"Bought By"},{id:"buyerNumber",numeric:!1,disablePadding:!1,colSpan:1,label:"Buyer's Phone Number"},{id:"totalReceivedAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Received Amount (\u20b9)"},{id:"balance",numeric:!1,disablePadding:!1,colSpan:1,label:"Balance Amount (\u20b9)"},{id:"nextDueDate",numeric:!1,disablePadding:!1,colSpan:1,label:"Next Due Date"},{id:"note",numeric:!1,disablePadding:!1,colSpan:1,label:"Note"}],le=["id","count","createdAt","updatedAt","__typename"],ue=function(e){var t=e.customRootClasses,a=e.title,n=e.loading,u=e.history,o=e.deleteProperties,s=e.wrapper,d=Object(l.a)(e,["customRootClasses","title","loading","history","deleteProperties","wrapper"]),b=s.tableMutation,p=s.tableQuery,v=s.defaultState,y=s.dataQuery,h=s.getQueryVariables;return f.a.createElement(Y.a,{tableMutation:b,tableQuery:p,defaultState:v,dataQuery:y,getQueryVariables:h},function(e,l,s){var b=s.loading,p=s.data,v=s.refetch,y=p[Object.keys(p)[0]];return f.a.createElement(W.a,Object.assign({},d,{loading:b||n,data:y,title:a,settings:e,count:y.length&&y[0].count||y.length,columnData:ce,customRootClasses:t,skipHistoryColumns:["type"],exclude:le,historyable:ee.e,credit:f.a.createElement(K,Object.assign({},d,{positiveHandler:function(e,t,a){return e({variables:Object(c.a)({},t,{id:a})})}})),primaryButtonIcon:f.a.createElement(m.a,null),options:{onEdit:function(e){return u.push(ae.a.Property.update({id:e,edit:!0}))},onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),onDelete:function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:t});case 2:return e.next=4,l({variables:te.a});case 4:v();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onAdd:function(){return u.push(ae.a.Property.create())}},render:Object(ne.b)({match:"totalReceivedAmount",renderValue:function(e){var t=e.key,a=e.value;if("nextDueDate"===t)return{value:Object(q.b)(a)};if("buyerNumber"===t)return{value:Object(re.a)(a)};var n=Object(ne.a)({key:t,value:a,skip:["buyerNumber"]});return Object(c.a)({},n,{value:String(a).length?n.value:"-"})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}))})},oe=Object(d.withStyles)(function(e){return Object(d.createStyles)({root:{width:"100%"},duePropertyRoot:{backgroundColor:"rgba(255, 0, 0, 0.1)"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=Object(l.a)(e,["classes","history"]);return f.a.createElement("div",null,f.a.createElement(s.a,{container:!0,className:t.root},f.a.createElement(s.a,{item:!0,xs:12},f.a.createElement(L.a,{mutation:U.f},function(e,r){var i=r.loading;return f.a.createElement(f.a.Fragment,null,f.a.createElement(X.a,{query:ee.f},function(e){e.loading;var t=e.data.propertyTotal;return f.a.createElement(u.g,{style:{padding:"2rem",margin:"1rem 0rem"}},f.a.createElement(s.a,{container:!0,spacing:16,justify:"space-between"},f.a.createElement(s.a,{item:!0},f.a.createElement(u.n,{variant:"h5",color:"primary"},"Total Price (\u20b9):"," ",Object(ie.a)(t.price))),f.a.createElement(s.a,{item:!0},f.a.createElement(u.n,{variant:"h5"},"Total Received Amount (\u20b9):"," ",Object(ie.a)(t.totalReceivedAmount))),f.a.createElement(s.a,{item:!0},f.a.createElement(u.n,{variant:"h5",color:t.balance<0?"primary":"secondary"},"Total Balance (\u20b9):"," ",Object(ie.a)(t.balance)))))}),f.a.createElement(ue,Object.assign({},n,{customRootClasses:[t.duePropertyRoot],title:"Due Properties",loading:i,history:a,deleteProperties:e,wrapper:{tableMutation:Z.b,tableQuery:$.b,defaultState:te.a.duePropertyTable,dataQuery:ee.b,getQueryVariables:function(e){return{}}}})),f.a.createElement(ue,Object.assign({},n,{title:"Properties",loading:i,history:a,deleteProperties:e,wrapper:{tableMutation:Z.f,tableQuery:$.f,defaultState:te.a.propertyTable,dataQuery:ee.c,getQueryVariables:function(e){return{}}}})))}))))});t.default=oe},709:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(24),i=a(19),c=a(18),l=a(20),u=a(0),o=a.n(u),s=a(691),d=a(146),b=a(79),m=a(695),p=a(689),f=a(692),v=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{tab:"User",container:o.a.createElement(f.default,this.props)},{tab:"Site",container:o.a.createElement(p.default,this.props)},{tab:"Property",container:o.a.createElement(m.default,this.props)}];return o.a.createElement(s.a,{defaults:e,localStateMutation:d.c,localStateQuery:b.c})}}]),t}(u.PureComponent);t.default=v}}]);
//# sourceMappingURL=5.df8810a3.chunk.js.map