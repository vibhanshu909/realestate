{"version":3,"sources":["../node_modules/@material-ui/icons/PersonAdd.js","pages/User.tsx"],"names":["_interopRequireDefault","__webpack_require__","Object","defineProperty","exports","value","default","_react","_default","createElement","Fragment","fill","d","userColumnData","id","numeric","disablePadding","colSpan","label","userExclude","User","withStyles","theme","createStyles","root","width","fab","position","bottom","spacing","unit","right","props","classes","history","restProps","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","userEntryTable","defaultState","react__WEBPACK_IMPORTED_MODULE_7___default","a","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_3___default","container","className","item","xs","_components_TableWrapper__WEBPACK_IMPORTED_MODULE_12__","tableMutation","USER_ENTRY_TABLE","tableQuery","USER_ENTRY_TABLE_QUERY","dataQuery","USERS","tableSettings","lmutate","_ref","loading","data","refetch","_components_Mutation__WEBPACK_IMPORTED_MODULE_11__","mutation","DELETE_USERS","deleteUsers","_ref2","dloading","_components_Enhanced_Table_Table__WEBPACK_IMPORTED_MODULE_9__","assign","users","title","settings","count","length","columnData","exclude","historyable","USER_CREDIT_HISTORY","primaryButtonIcon","_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_5___default","menu","selected","_components_EnhancedMenu__WEBPACK_IMPORTED_MODULE_10__","options","lprops","_components_Dialogs_ChangePassword__WEBPACK_IMPORTED_MODULE_8__","reset","positiveHandler","fn","args","variables","filter","icon","_material_ui_icons_VpnKey__WEBPACK_IMPORTED_MODULE_6___default","content","tooltip","onCredit","_onCredit","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","wrap","_context","prev","next","stop","_x","_x2","apply","this","arguments","onDelete","_onDelete","_callee2","_context2","_x3","onAdd","push","Routes","create","onEdit","e","update","edit","render","commanRender","match","renderValue","_ref3","key","getContactJSX","RENDER_VALUE","mutate","_ref4","_callee3","_context3","_x4"],"mappings":"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","file":"static/js/11.bda0d478.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n})), 'PersonAdd');\n\nexports.default = _default;","import Grid from '@material-ui/core/Grid'\nimport {\n  createStyles,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport PersonAdd from '@material-ui/icons/PersonAdd'\nimport VpnKey from '@material-ui/icons/VpnKey'\nimport React from 'react'\nimport ChangePassword from '../components/Dialogs/ChangePassword'\nimport EnhancedTable from '../components/Enhanced/Table/Table'\nimport EnhancedMenu, { CreateMenuItem } from '../components/EnhancedMenu'\nimport Mutation from '../components/Mutation'\nimport TableWrapper from '../components/TableWrapper'\nimport { USER_ENTRY_TABLE } from '../graphql/mutation/local'\nimport { DELETE_USERS } from '../graphql/mutation/remote'\nimport { USER_ENTRY_TABLE as USER_ENTRY_TABLE_QUERY } from '../graphql/query/local'\nimport { USER_CREDIT_HISTORY, USERS } from '../graphql/query/remote'\nimport { defaultState } from '../graphql/resolvers'\nimport { Routes } from '../Router'\nimport commanRender, { RENDER_VALUE } from '../utils/commanRender'\nimport filter from '../utils/filter'\nimport getContactJSX from '../utils/getContactJSX'\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n    },\n    fab: {\n      position: 'fixed',\n      width: '4rem',\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 2,\n    },\n  })\n\nexport const userColumnData = [\n  {\n    id: 'createdAt',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Created At',\n  },\n  {\n    id: 'username',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Username',\n  },\n  // {\n  //   id: 'stockPermission',\n  //   numeric: false,\n  //   disablePadding: false,\n  //   colSpan: 1,\n  //   label: 'Stock Permission',\n  // },\n  {\n    id: 'contact',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Phone Number',\n  },\n  {\n    id: 'siteCount',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Total Sites',\n  },\n  {\n    id: 'totalSitesCost',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Total Sites Cost (₹)',\n  },\n  {\n    id: 'totalReceivedAmount',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Total Received Amount (₹)',\n  },\n  {\n    id: 'spent',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Spent Amount (₹)',\n  },\n  {\n    id: 'balance',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Balance Amount (₹)',\n  },\n]\nexport const userExclude = [\n  'id',\n  'count',\n  'sites',\n  'createdAt',\n  'updatedAt',\n  '__typename',\n]\n\ninterface IUserProps extends WithStyles<typeof styles> {\n  history?: any\n}\nconst User = withStyles(styles)((props: IUserProps) => {\n  const { classes, history, ...restProps } = props\n  const { userEntryTable } = defaultState\n  return (\n    <div>\n      <Grid container={true} className={classes.root}>\n        <Grid item={true} xs={12}>\n          <TableWrapper\n            tableMutation={USER_ENTRY_TABLE}\n            tableQuery={USER_ENTRY_TABLE_QUERY}\n            dataQuery={USERS}\n            defaultState={userEntryTable}\n          >\n            {(\n              tableSettings: typeof userEntryTable,\n              lmutate: Function,\n              { loading, data, refetch }: IGraphqlData,\n            ) => {\n              return (\n                <Mutation mutation={DELETE_USERS}>\n                  {(\n                    deleteUsers: Function,\n                    { loading: dloading }: IGraphqlData,\n                  ) => {\n                    return (\n                      <EnhancedTable\n                        {...restProps}\n                        loading={loading || dloading}\n                        data={data.users}\n                        title='Users'\n                        settings={tableSettings}\n                        count={\n                          (data.users.length && data.users[0].count) ||\n                          data.users.length\n                        }\n                        columnData={userColumnData}\n                        exclude={userExclude}\n                        historyable={USER_CREDIT_HISTORY}\n                        primaryButtonIcon={<PersonAdd />}\n                        menu={(selected: any) => {\n                          return selected.length === 1 ? (\n                            <EnhancedMenu\n                              options={[\n                                (lprops: any) => {\n                                  return (\n                                    <ChangePassword\n                                      {...lprops}\n                                      reset={true}\n                                      positiveHandler={(fn, args) => {\n                                        return fn({\n                                          variables: {\n                                            id: selected[0],\n                                            data: filter(args, [\n                                              'confirmNewPassword',\n                                            ]),\n                                          },\n                                        })\n                                      }}\n                                    >\n                                      <CreateMenuItem\n                                        {...lprops}\n                                        icon={<VpnKey />}\n                                        content='Reset Password'\n                                        tooltip='Reset Password'\n                                      />\n                                    </ChangePassword>\n                                  )\n                                },\n                              ]}\n                            />\n                          ) : null\n                        }}\n                        options={{\n                          onCredit: async (fn: Function, args: any) => {\n                            await fn({ variables: args })\n                            // refetch();\n                          },\n                          onDelete: async (args: any) => {\n                            await deleteUsers({ variables: args })\n                            await lmutate({\n                              variables: defaultState.userEntryTable,\n                            })\n                            refetch()\n                          },\n                          onAdd: () => history.push(Routes.User.create()),\n                          onEdit: (e: any) =>\n                            history.push(\n                              Routes.User.update({ id: e, edit: true }),\n                            ),\n                        }}\n                        render={commanRender({\n                          match: 'spent',\n                          renderValue: ({ key, value }: any) => {\n                            if (key === 'contact') {\n                              return { value: getContactJSX(value) }\n                            }\n                            return RENDER_VALUE({ key, value })\n                          },\n                        })}\n                        mutate={async args => {\n                          await lmutate({ variables: args })\n                          // refetch();\n                        }}\n                      />\n                    )\n                  }}\n                </Mutation>\n              )\n            }}\n          </TableWrapper>\n        </Grid>\n      </Grid>\n    </div>\n  )\n})\n\nexport default User\n"],"sourceRoot":""}