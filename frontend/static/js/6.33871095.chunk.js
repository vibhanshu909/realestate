(window.webpackJsonp=window.webpackJsonp||[]).push([[6,15],{689:function(e,t,a){"use strict";a.r(t),a.d(t,"siteColumnData",function(){return w}),a.d(t,"siteExclude",function(){return k});var n=a(23),r=a(26),c=a.n(r),i=a(45),l=a(32),o=a(59),s=a.n(o),u=a(25),d=a(0),m=a.n(d),b=a(58),p=a(57),v=a(99),g=a(73),f=a(244),h=a(79),y=a(34),E=a(146),O=a(78),j=a(245),S=a(123),w=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"entryCount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Entries"},{id:"lastEntryDate",numeric:!1,disablePadding:!1,colSpan:1,label:"Last Entry On"},{id:"manager",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager"},{id:"managerSpentAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager Spent Amount (\u20b9)"},{id:"Total Cost",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Cost (\u20b9)"}],k=["id","count","total","createdAt","updatedAt","__typename"],x=Object(u.withStyles)(function(e){return Object(u.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit},lastEntryOn:{padding:"0 !important"}})})(function(e){var t=e.classes,a=e.history,r=Object(l.a)(e,["classes","history"]);return m.a.createElement("div",null,m.a.createElement(s.a,{container:!0,className:t.root},m.a.createElement(s.a,{item:!0,xs:12},m.a.createElement(b.a,{mutation:E.g},function(e,o){return m.a.createElement(p.a,{query:h.g},function(o){var s=o.data.siteTable;return m.a.createElement(b.a,{mutation:O.g},function(o){var u=s.page,d=s.rowsPerPage;return m.a.createElement(p.a,{query:y.h,variables:{limit:d,skip:u*d}},function(u){var d=u.loading,b=u.data,p=u.refetch;return m.a.createElement(j.a,Object.assign({},r,{loading:d,data:b.sites,title:"Sites",settings:s,count:b.sites.length&&b.sites[0].count||b.sites.length,columnData:w,exclude:k,options:{onView:function(e){return a.push(g.a.Site.detail({id:e}))},onDelete:function(){var t=Object(i.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o({variables:a});case 2:return t.next=4,e({variables:v.a.siteTable});case 4:p();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onAdd:function(){return a.push(g.a.Site.create())}},render:Object(S.b)({match:"managerSpentAmount",classes:function(e){return"lastEntryDate"===e?t.lastEntryOn:""},renderValue:function(e){var t=e.key,a=e.value,r=Object(l.a)(e,["key","value"]);return"lastEntryDate"===t?Object(S.a)(Object(n.a)({key:t,value:Object(f.a)(a)},r)):Object(S.a)(Object(n.a)({key:t,value:a},r))}}),mutate:function(){var t=Object(i.a)(c.a.mark(function t(a){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({variables:a});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}))})})})}))))});t.default=x},691:function(e,t,a){"use strict";var n=a(17),r=a(24),c=a(19),i=a(18),l=a(20),o=a(147),s=a.n(o),u=a(25),d=a(339),m=a.n(d),b=a(340),p=a.n(b),v=a(39),g=a.n(v),f=a(0),h=a.n(f),y=a(693),E=a.n(y),O=a(58),j=a(57);function S(e){var t=e.children,a=e.dir;return h.a.createElement(g.a,{component:"div",dir:a},t)}var w=Object(u.withStyles)(function(e){return Object(u.createStyles)({root:{backgroundColor:e.palette.background.paper,width:"100%"},app:{marginTop:8*e.spacing.unit},content:{marginTop:5*e.spacing.unit},selected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText}})},{withTheme:!0})(function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.props,r=n.defaults,c=n.localStateQuery,i=n.localStateMutation,l={tabs:[],containers:[]};return r.map(function(e){return l.tabs.push(h.a.createElement(m.a,{label:e.tab,key:e.tab,classes:{selected:t.selected}})),l.containers.push(h.a.createElement(S,{dir:a.direction,key:e.tab+"_container"},e.container)),null}),h.a.createElement(O.a,{mutation:i},function(e){return h.a.createElement(j.a,{query:c},function(n){var r=n.data,c=r[Object.keys(r)[0]];return h.a.createElement("div",{className:t.root},h.a.createElement(s.a,{color:"default",className:t.app},h.a.createElement(p.a,{value:c.value,onChange:function(t,a){return e({variables:{value:a}})},indicatorColor:"secondary"},l.tabs)),h.a.createElement(E.a,{className:t.content,axis:"rtl"===a.direction?"x-reverse":"x",index:c.value,onChangeIndex:function(t){return e({variables:{value:t}})}},l.containers))})})}}]),t}(h.a.PureComponent));t.a=w},735:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(24),c=a(19),i=a(18),l=a(20),o=a(0),s=a.n(o),u=a(691),d=a(146),m=a(79),b=a(26),p=a.n(b),v=a(45),g=a(32),f=a(23),h=a(25),y=a(245),E=a(247),O=a(59),j=a.n(O),S=a(74),w=a.n(S),k=a(39),x=a.n(k),T=a(34),C=a(123),A=a(246),P=a(57),D=Object(h.withStyles)(function(e){return Object(h.createStyles)({paper:Object(f.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})})})(function(e){var t=e.classes,a=e.user;return s.a.createElement(P.a,{query:T.k,variables:{id:a.id}},function(e){var a=e.loading,n=e.error,r=e.data.user;return a?s.a.createElement("span",null,"loading..."):n?s.a.createElement("span",null,"Error Occured!"):s.a.createElement(w.a,{className:t.paper},s.a.createElement(j.a,{container:!0,spacing:32},s.a.createElement(j.a,{item:!0,container:!0,direction:"column",sm:6},s.a.createElement(j.a,{item:!0},s.a.createElement(x.a,{variant:"headline",className:"ttc",color:"primary"},"Username: ",r.username)),s.a.createElement(j.a,{item:!0},s.a.createElement(x.a,{variant:"headline",className:"ttc",color:"secondary"},"Total Sites: ",Object(A.a)(r.siteCount)))),s.a.createElement(j.a,{item:!0,container:!0,direction:"column",sm:6},s.a.createElement(j.a,{item:!0},s.a.createElement(x.a,{variant:"subheading"},"Total Received Amount (\u20b9):"," ",s.a.createElement("span",{style:{color:Object(C.a)({value:r.totalReceivedAmount,balance:!1}).color||void 0}},Object(C.a)({value:r.totalReceivedAmount}).value))),s.a.createElement(j.a,{item:!0},s.a.createElement(x.a,{variant:"subheading"},"Total Spent Amount (\u20b9): ",Object(A.a)(r.spent))),s.a.createElement(j.a,{item:!0},s.a.createElement(x.a,{variant:"subheading"},"Total Balance (\u20b9):"," ",s.a.createElement("span",{style:{color:Object(C.a)({value:r.balance,balance:!1}).color||void 0}},Object(C.a)({value:r.balance}).value))))))})}),N=a(99),M=a(73),q=a(244),Q=a(689),V=Object(h.withStyles)(function(e){return Object(h.createStyles)({root:{width:"100%"},paper:Object(f.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),fab:{position:"fixed",width:"8rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit},lastEntryOn:{padding:"0 !important"}})})(function(e){var t=e.classes,a=e.history,n=Object(g.a)(e,["classes","history"]),r=N.a.siteTable;return s.a.createElement("div",null,s.a.createElement(D,e),s.a.createElement(E.a,{tableMutation:d.g,tableQuery:m.g,dataQuery:T.h,defaultState:r},function(e,r,c){var i=c.loading,l=c.data,o=c.refetch;return s.a.createElement(y.a,Object.assign({},n,{loading:i,data:l.sites,title:"Sites",settings:e,refetch:o,count:l.sites.length&&l.sites[0].count||l.sites.length,columnData:Q.siteColumnData,exclude:Q.siteExclude,options:{selectable:!1,onView:function(e){return a.push(M.a.Site.detail({id:e}))}},render:Object(C.b)({match:"managerSpentAmount",classes:function(e){return"lastEntryDate"===e?t.lastEntryOn:""},renderValue:function(e){var t=e.key,a=e.value,n=Object(g.a)(e,["key","value"]);return"lastEntryDate"===t?Object(C.a)(Object(f.a)({key:t,value:Object(q.a)(a)},n)):Object(C.a)(Object(f.a)({key:t,value:a},n))}}),mutate:function(){var e=Object(v.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({variables:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}))}))}),B=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{tab:"Site",container:s.a.createElement(V,this.props)}];return s.a.createElement(u.a,{defaults:e,localStateMutation:d.c,localStateQuery:m.c})}}]),t}(o.PureComponent);t.default=B}}]);
//# sourceMappingURL=6.33871095.chunk.js.map