(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{478:function(e,t,a){"use strict";a.d(t,"a",function(){return A});var n=a(23),r=a.n(n),i=a(36),c=a(19),o=a(13),l=a(4),u=a(58),s=a.n(u),d=a(10),p=a(137),b=a.n(p),m=a(0),f=a.n(m),v=a(242),h=a(220),y=a(47),g=a(236),j=a(136),k=a(53),E=a(69),O=a(30),S=a(90),w=a(14);function T(){var e=Object(l.a)(["\n  mutation createTransaction($data: TransactionCreateInput!) {\n    createTransaction(data: $data) {\n      id\n      createdAt\n      stock {\n        name\n      }\n      supplier {\n        username\n      }\n    }\n  }\n"]);return T=function(){return e},e}var x=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"unit",numeric:!1,disablePadding:!1,colSpan:1,label:"Unit"},{id:"available",numeric:!1,disablePadding:!1,colSpan:1,label:"Available"}],C=["id","createdAt","updatedAt","__typename"],P=b()(T()),I={quantity:{type:"number",default:0},note:{type:"text",default:""},type:{type:"select",default:[{key:"CREDIT [+]",value:"CREDIT"},{key:"DEBIT [-]",value:"DEBIT"}],current:"CREDIT"}},A=Object(d.withStyles)(function(e){return Object(d.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=e.user,l=Object(o.a)(e,["classes","history","user"]),u=S.a.stockItemTable;return f.a.createElement("div",null,f.a.createElement(s.a,{container:!0,className:t.root},f.a.createElement(s.a,{item:!0,xs:12},f.a.createElement(y.a,{mutation:k.i},function(t,o){var s=o.loading;return f.a.createElement(g.a,{tableMutation:j.h,tableQuery:E.h,dataQuery:O.k,defaultState:u},function(t,o,u){var d=u.loading,p=u.data,b=(u.refetch,e.optionable&&{credit:function(e){var t=e.selected,a=e.onCredit;return f.a.createElement(v.a,{mutation:P,defaults:I,positiveHandler:function(e,r){return a&&a(e,{data:Object(c.a)({},r,{stockId:t,supplierId:n.id})})}})},options:{onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),onView:function(e){return a.push(w.a.Stock.detail({id:e}))}}});return f.a.createElement(h.a,Object.assign({},l,{loading:d||s,data:p.stocks.edges,title:"Stock Items",settings:t,count:p.stocks.totalCount,columnData:x,exclude:C},b,{mutate:function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({variables:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))})}))))})},479:function(e,t,a){"use strict";a.d(t,"a",function(){return O});var n=a(23),r=a.n(n),i=a(36),c=a(19),o=a(13),l=a(58),u=a.n(l),s=a(10),d=a(0),p=a.n(d),b=a(220),m=a(236),f=a(136),v=a(69),h=a(30),y=a(90),g=a(113),j=a(237),k=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"stock",numeric:!1,disablePadding:!1,colSpan:1,label:"Stock Name"},{id:"quantity",numeric:!1,disablePadding:!1,colSpan:1,label:"Quantity"},{id:"type",numeric:!1,disablePadding:!1,colSpan:1,label:"Transaction Type"},{id:"available",numeric:!1,disablePadding:!1,colSpan:1,label:"Available"},{id:"supplier",numeric:!1,disablePadding:!1,colSpan:1,label:"Supplier/Consumer"},{id:"note",numeric:!1,disablePadding:!1,colSpan:1,label:p.a.createElement("span",{style:{paddingLeft:"4rem",paddingRight:"4rem"}},"Note")}],E=["id","createdAt","updatedAt","__typename"],O=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=(e.history,Object(o.a)(e,["classes","history"])),n=y.a.stockTransactionTable;return p.a.createElement("div",null,p.a.createElement(u.a,{container:!0,className:t.root},p.a.createElement(u.a,{item:!0,xs:12},p.a.createElement(m.a,{tableMutation:f.j,tableQuery:v.j,dataQuery:a.query||h.m,getQueryVariables:a.getQueryVariables,defaultState:n},function(e,t,n){var o=n.loading,l=n.data,u=(n.refetch,l[Object.keys(l)[0]]);return p.a.createElement(b.a,Object.assign({},a,{loading:o,data:u.edges,title:"Stock Transactions",settings:e,count:u.totalCount,columnData:k,exclude:E,render:Object(g.b)({match:"type",alt:!0,altValue:"DEBIT",altColor:"#eee",renderValue:function(e){var t=e.key,a=e.value;if("contact"===t)return{value:Object(j.a)(a)};var n=Object(g.a)({key:t,value:a,skip:["contact"]});return Object(c.a)({},n,{value:String(a).length?n.value:"-"})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))}))))})},679:function(e,t,a){"use strict";var n=a(17),r=a(20),i=a(11),c=a(18),o=a(12),l=a(138),u=a.n(l),s=a(10),d=a(221),p=a.n(d),b=a(222),m=a.n(b),f=a(34),v=a.n(f),h=a(0),y=a.n(h),g=a(681),j=a.n(g),k=a(47),E=a(46);function O(e){var t=e.children,a=e.dir;return y.a.createElement(v.a,{component:"div",dir:a},t)}var S=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{backgroundColor:e.palette.background.paper,width:"100%"},app:{marginTop:8*e.spacing.unit},content:{marginTop:5*e.spacing.unit},selected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText}})},{withTheme:!0})(function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.props,r=n.defaults,i=n.localStateQuery,c=n.localStateMutation,o={tabs:[],containers:[]};return r.map(function(e){return o.tabs.push(y.a.createElement(p.a,{label:e.tab,key:e.tab,classes:{selected:t.selected}})),o.containers.push(y.a.createElement(O,{dir:a.direction,key:e.tab+"_container"},e.container)),null}),y.a.createElement(k.a,{mutation:c},function(e){return y.a.createElement(E.a,{query:i},function(n){var r=n.data,i=r[Object.keys(r)[0]];return y.a.createElement("div",{className:t.root},y.a.createElement(u.a,{color:"default",className:t.app},y.a.createElement(m.a,{value:i.value,onChange:function(t,a){return e({variables:{value:a}})},indicatorColor:"secondary"},o.tabs)),y.a.createElement(j.a,{className:t.content,axis:"rtl"===a.direction?"x-reverse":"x",index:i.value,onChangeIndex:function(t){return e({variables:{value:t}})}},o.containers))})})}}]),t}(y.a.PureComponent));t.a=S},730:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(20),i=a(11),c=a(18),o=a(12),l=a(0),u=a.n(l),s=a(223),d=a(679),p=a(136),b=a(69),m=a(478),f=a(479),v=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{tab:"Stock",container:u.a.createElement(m.a,Object.assign({},this.props,{optionable:this.props.me.stockPermission}))},{tab:"Transaction",container:u.a.createElement(f.a,this.props)}],t=this.props.me;return t&&t.stockPermission?u.a.createElement(d.a,{defaults:e,localStateMutation:p.g,localStateQuery:b.g}):u.a.createElement(s.default,null)}}]),t}(l.PureComponent);t.default=v}}]);
//# sourceMappingURL=12.9bf424d6.chunk.js.map