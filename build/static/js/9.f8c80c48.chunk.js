(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{513:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a.n(n),i=a(36),l=a(19),c=a(13),u=a(22),o=a(58),d=a.n(o),s=a(10),m=a(244),b=a.n(m),p=a(0),f=a.n(p),v=a(17),g=a(20),h=a(11),y=a(18),E=a(12),j=a(33),O=a.n(j),w=a(75),S=a.n(w),x=a(62),P=a.n(x),A=a(66),C=a.n(A),D=a(64),k=a.n(D),N=a(65),T=a.n(N),B=a(63),R=a.n(B),F=a(44),H=a.n(F),M=a(93),Q=a.n(M),J=a(243),V=a.n(J),_=a(42),q=a(53),z=a(235),I=a(70),L=a(47),G=a(56),K={amount:{type:"number",default:0,startAdornment:f.a.createElement(Q.a,{position:"start"},"\u20b9")},note:{type:"text",default:""},nextDueDate:{type:"date",default:Object(z.b)(),validate:function(e){return new Date(e).getTime()<=new Date(Object(z.b)()).getTime()?"Must be a future date":null}}},U=Object(s.withStyles)(G.b)(function(e){function t(){return Object(v.a)(this,t),Object(h.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open,a=this.props,n=a.classes,r=a.history,i=a.selected,l=a.negativeHandler,c=void 0===l?function(){return e.handleClose()}:l,o=a.positiveHandler,d=void 0===o?function(){return null}:o,s=a.postMutation,m=void 0===s?function(){return null}:s,b="Add Credit";return f.a.createElement("div",null,f.a.createElement(L.a,{mutation:q.l},function(a,l){var o=l.loading,s=l.error;l.data;return f.a.createElement(f.a.Fragment,null,f.a.createElement(H.a,{"aria-label":"Credit",title:"Credit",onClick:e.handleOpen},f.a.createElement(V.a,null)),t?f.a.createElement(P.a,{fullScreen:!1,open:t,onClose:c,"aria-labelledby":b,title:b},f.a.createElement(_.Form,{onSubmit:function(t){d(a,{data:t},i).then(function(t){m?(m(t),e.handleClose()):r.goBack()})}},f.a.createElement(R.a,{id:b},b),f.a.createElement(k.a,null,f.a.createElement(T.a,null,"Add credit amount to this property."),Object(I.b)(K)),f.a.createElement(C.a,null,o?f.a.createElement(S.a,{className:n.progress}):null,s?f.a.createElement(u.c,{error:!0},s.message):null,f.a.createElement(O.a,{onClick:c,color:"primary",autoFocus:!0},"Cancel"),f.a.createElement(O.a,{size:"large",type:"submit",disabled:o},"Confirm")))):null)}))}}]),t}(G.a)),W=a(220),X=a(46),Y=a(236),Z=a(136),$=a(69),ee=a(30),te=a(90),ae=a(14),ne=a(113),re=a(237),ie=a(238);a.d(t,"propertyColumnData",function(){return le}),a.d(t,"propertyExclude",function(){return ce});var le=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"price",numeric:!1,disablePadding:!1,colSpan:1,label:"Price (\u20b9)"},{id:"buyer",numeric:!1,disablePadding:!1,colSpan:1,label:"Bought By"},{id:"buyerNumber",numeric:!1,disablePadding:!1,colSpan:1,label:"Buyer's Phone Number"},{id:"totalReceivedAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Received Amount (\u20b9)"},{id:"balance",numeric:!1,disablePadding:!1,colSpan:1,label:"Balance Amount (\u20b9)"},{id:"nextDueDate",numeric:!1,disablePadding:!1,colSpan:1,label:"Next Due Date"},{id:"note",numeric:!1,disablePadding:!1,colSpan:1,label:"Note"}],ce=["id","count","createdAt","updatedAt","__typename"],ue=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=Object(c.a)(e,["classes","history"]);return f.a.createElement("div",null,f.a.createElement(d.a,{container:!0,className:t.root},f.a.createElement(d.a,{item:!0,xs:12},f.a.createElement(L.a,{mutation:q.f},function(e,t){var c=t.loading;return f.a.createElement(X.a,{query:ee.e},function(t){t.loading;var o=t.data.propertyTotal;return f.a.createElement(f.a.Fragment,null,f.a.createElement(u.g,{style:{padding:"2rem",margin:"1rem 0rem"}},f.a.createElement(d.a,{container:!0,spacing:16,justify:"space-between"},f.a.createElement(d.a,{item:!0},f.a.createElement(u.n,{variant:"subheading"},"Total Price (\u20b9):"," ",Object(ie.a)(o.price))),f.a.createElement(d.a,{item:!0},f.a.createElement(u.n,{variant:"subheading"},"Total Received Amount (\u20b9):"," ",Object(ie.a)(o.totalReceivedAmount))),f.a.createElement(d.a,{item:!0},f.a.createElement(u.n,{variant:"subheading"},"Total Balance (\u20b9):"," ",Object(ie.a)(o.balance))))),f.a.createElement(Y.a,{tableMutation:Z.e,tableQuery:$.e,dataQuery:ee.b,defaultState:te.a.propertyTable,getQueryVariables:function(e){return{}}},function(t,u,o){var d=o.loading,s=o.data,m=o.refetch;return f.a.createElement(W.a,Object.assign({},n,{loading:d||c,data:s.properties,title:"Properties",settings:t,count:s.properties.length&&s.properties[0].count||s.properties.length,columnData:le,exclude:ce,historyable:ee.d,credit:f.a.createElement(U,Object.assign({},n,{positiveHandler:function(e,t,a){return e({variables:Object(l.a)({},t,{id:a})})}})),primaryButtonIcon:f.a.createElement(b.a,null),options:{onEdit:function(e){return a.push(ae.a.Property.update({id:e,edit:!0}))},onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),onDelete:function(){var t=Object(i.a)(r.a.mark(function t(a){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({variables:a});case 2:return t.next=4,u({variables:te.a.propertyTable});case 4:m();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onAdd:function(){return a.push(ae.a.Property.create())}},render:Object(ne.b)({match:"totalReceivedAmount",renderValue:function(e){var t=e.key,a=e.value;if("nextDueDate"===t)return{value:Object(z.a)(a)};if("buyerNumber"===t)return{value:Object(re.a)(a)};var n=Object(ne.a)({key:t,value:a,skip:["buyerNumber"]});return Object(l.a)({},n,{value:String(a).length?n.value:"-"})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({variables:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))}))})}))))});t.default=ue}}]);
//# sourceMappingURL=9.f8c80c48.chunk.js.map