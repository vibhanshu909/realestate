{"version":3,"sources":["components/Tabs.tsx","pages/Stock/StockPage.tsx","pages/Stock/Transaction.tsx","pages/StockDashboard.tsx"],"names":["TabContainer","_ref","children","dir","react__WEBPACK_IMPORTED_MODULE_10___default","a","createElement","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_9___default","component","EnhancedTabs","withStyles","theme","createStyles","root","backgroundColor","palette","background","paper","width","app","marginTop","spacing","unit","content","selected","secondary","light","color","contrastText","withTheme","_React$PureComponent","_class","Object","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this$props","props","classes","_this$props2","defaults","localStateQuery","localStateMutation","result","tabs","containers","map","e","push","_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_7___default","label","tab","direction","container","_components_Mutation__WEBPACK_IMPORTED_MODULE_12__","mutation","lmutate","_components_Query__WEBPACK_IMPORTED_MODULE_13__","query","_ref2","data","enhancedTabs","keys","className","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_8___default","onChange","_","variables","indicatorColor","react_swipeable_views__WEBPACK_IMPORTED_MODULE_11___default","axis","index","onChangeIndex","React","PureComponent","stockItemColumnData","id","numeric","disablePadding","colSpan","stockItemExclude","STOCK_CREDIT","gql","_templateObject","quantity","type","default","note","current","StockPage","fab","position","bottom","right","history","user","restProps","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__","stockItemTable","defaultState","react__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5___default","item","xs","_components_Mutation__WEBPACK_IMPORTED_MODULE_11__","DELETE_STOCK_ITEMS","deleteStockItems","dloading","loading","_components_TableWrapper__WEBPACK_IMPORTED_MODULE_12__","tableMutation","STOCK_ITEM_TABLE","tableQuery","STOCK_ITEM_TABLE_QUERY","dataQuery","STOCK_ITEMS","tableSettings","options","refetch","optionable","credit","_ref3","onCredit","_components_Dialogs_FormDialog__WEBPACK_IMPORTED_MODULE_9__","positiveHandler","m","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","stockId","supplierId","_onCredit","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","fn","args","wrap","_context","prev","next","stop","_x","_x2","onView","Routes","Stock","detail","_components_Enhanced_Table_Table__WEBPACK_IMPORTED_MODULE_10__","assign","stocks","edges","title","settings","count","totalCount","columnData","exclude","mutate","_ref4","_callee2","_context2","_x3","stockTransactionColumnData","react__WEBPACK_IMPORTED_MODULE_6___default","style","paddingLeft","paddingRight","stockTransactionExclude","TransactionPage","stockTransactionTable","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_4___default","_components_TableWrapper__WEBPACK_IMPORTED_MODULE_8__","STOCK_TRANSACTION_TABLE","STOCK_TRANSACTION_TABLE_QUERY","STOCK_TRANSACTIONS","getQueryVariables","transactions","_components_Enhanced_Table_Table__WEBPACK_IMPORTED_MODULE_7__","render","commanRender","match","alt","altValue","altColor","renderValue","getContactJSX","RENDER_VALUE","skip","String","length","StockDashboard","react__WEBPACK_IMPORTED_MODULE_5___default","_Stock_StockPage__WEBPACK_IMPORTED_MODULE_10__","me","stockPermission","_Stock_Transaction__WEBPACK_IMPORTED_MODULE_11__","_components_Tabs__WEBPACK_IMPORTED_MODULE_7__","STOCK_ENHANCED_TABS","STOCK_ENHANCED_TABS_QUERY","_components_404__WEBPACK_IMPORTED_MODULE_6__"],"mappings":"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","file":"static/js/7.6438f5d7.chunk.js","sourcesContent":["import AppBar from '@material-ui/core/AppBar'\nimport {\n  createStyles,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport Tab from '@material-ui/core/Tab'\nimport Tabs from '@material-ui/core/Tabs'\nimport Typography from '@material-ui/core/Typography'\nimport React from 'react'\nimport SwipeableViews from 'react-swipeable-views'\nimport Mutation from '../components/Mutation'\nimport Query from '../components/Query'\n\nfunction TabContainer({ children, dir }: any) {\n  return (\n    <Typography component='div' dir={dir}>\n      {children}\n    </Typography>\n  )\n}\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      width: '100%',\n    },\n    app: {\n      marginTop: theme.spacing.unit * 8,\n    },\n    content: {\n      marginTop: theme.spacing.unit * 5,\n    },\n    selected: {\n      backgroundColor: theme.palette.secondary.light,\n      color: theme.palette.secondary.contrastText,\n    },\n  })\n\ninterface IEnhancedTabsProps extends WithStyles<typeof styles, true> {\n  defaults: any[]\n  localStateQuery: any\n  localStateMutation: any\n}\n\nconst EnhancedTabs = withStyles(styles, { withTheme: true })(\n  class extends React.PureComponent<IEnhancedTabsProps> {\n    render() {\n      const { classes, theme } = this.props\n      const { defaults, localStateQuery, localStateMutation } = this.props\n      const result: { tabs: any[]; containers: any[] } = {\n        tabs: [],\n        containers: [],\n      }\n      defaults.map((e: any) => {\n        result.tabs.push(\n          <Tab\n            label={e.tab}\n            key={e.tab}\n            classes={{ selected: classes.selected }}\n          />,\n        )\n        result.containers.push(\n          <TabContainer dir={theme.direction} key={e.tab + '_container'}>\n            {e.container}\n          </TabContainer>,\n        )\n        return null\n      })\n\n      return (\n        <Mutation mutation={localStateMutation}>\n          {(lmutate: Function) => {\n            return (\n              <Query query={localStateQuery}>\n                {({ data }: any) => {\n                  const enhancedTabs = data[Object.keys(data)[0]]\n                  return (\n                    <div className={classes.root}>\n                      <AppBar color='default' className={classes.app}>\n                        <Tabs\n                          value={enhancedTabs.value}\n                          onChange={(_, value) =>\n                            lmutate({ variables: { value } })\n                          }\n                          indicatorColor='secondary'\n                        >\n                          {result.tabs}\n                        </Tabs>\n                      </AppBar>\n                      <SwipeableViews\n                        className={classes.content}\n                        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n                        index={enhancedTabs.value}\n                        onChangeIndex={value =>\n                          lmutate({ variables: { value } })\n                        }\n                      >\n                        {result.containers}\n                      </SwipeableViews>\n                    </div>\n                  )\n                }}\n              </Query>\n            )\n          }}\n        </Mutation>\n      )\n    }\n  },\n)\nexport default EnhancedTabs\n","import Grid from '@material-ui/core/Grid'\nimport {\n  createStyles,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport gql from 'graphql-tag'\nimport React from 'react'\nimport FormDialog from '../../components/Dialogs/FormDialog'\nimport EnhancedTable from '../../components/Enhanced/Table/Table'\nimport Mutation from '../../components/Mutation'\nimport TableWrapper from '../../components/TableWrapper'\nimport { STOCK_ITEM_TABLE } from '../../graphql/mutation/local'\nimport { DELETE_STOCK_ITEMS } from '../../graphql/mutation/remote'\nimport { STOCK_ITEM_TABLE as STOCK_ITEM_TABLE_QUERY } from '../../graphql/query/local'\nimport { STOCK_ITEMS } from '../../graphql/query/remote'\nimport { defaultState } from '../../graphql/resolvers'\nimport { Routes } from '../../Router'\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n    },\n    fab: {\n      position: 'fixed',\n      width: '4rem',\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 2,\n    },\n  })\n\nexport const stockItemColumnData = [\n  {\n    id: 'createdAt',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Created At',\n  },\n  {\n    id: 'name',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Name',\n  },\n  {\n    id: 'unit',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Unit',\n  },\n  {\n    id: 'available',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Available',\n  },\n]\n\nexport const stockItemExclude = ['id', 'createdAt', 'updatedAt', '__typename']\n\ninterface IStockItem extends WithStyles<typeof styles> {\n  history?: any\n  optionable?: boolean\n}\n\nconst STOCK_CREDIT = gql`\n  mutation createTransaction($data: TransactionCreateInput!) {\n    createTransaction(data: $data) {\n      id\n      createdAt\n      stock {\n        name\n      }\n      supplier {\n        username\n      }\n    }\n  }\n`\nconst defaults: IFormGenerator = {\n  quantity: {\n    type: 'number',\n    default: 0,\n    // startAdornment: <InputAdornment position='start'>₹</InputAdornment>,\n  },\n  note: {\n    type: 'text',\n    default: '',\n  },\n  type: {\n    type: 'select',\n    default: [\n      { key: 'CREDIT [+]', value: 'CREDIT' },\n      { key: 'DEBIT [-]', value: 'DEBIT' },\n    ],\n    current: 'CREDIT',\n  },\n}\nexport const StockPage = withStyles(styles)(\n  (props: IStockItem & { user?: any }) => {\n    const { classes, history, user, ...restProps } = props\n    const { stockItemTable } = defaultState\n    return (\n      <div>\n        <Grid container={true} className={classes.root}>\n          <Grid item={true} xs={12}>\n            <Mutation mutation={DELETE_STOCK_ITEMS}>\n              {(\n                deleteStockItems: Function,\n                { loading: dloading }: IGraphqlData,\n              ) => {\n                return (\n                  <TableWrapper\n                    tableMutation={STOCK_ITEM_TABLE}\n                    tableQuery={STOCK_ITEM_TABLE_QUERY}\n                    dataQuery={STOCK_ITEMS}\n                    defaultState={stockItemTable}\n                  >\n                    {(\n                      tableSettings: typeof stockItemTable,\n                      lmutate: Function,\n                      { loading, data, refetch }: IGraphqlData,\n                    ) => {\n                      const options = props.optionable && {\n                        credit: ({\n                          selected,\n                          onCredit,\n                        }: {\n                          selected: string\n                          onCredit: any\n                        }) => (\n                          <FormDialog\n                            mutation={STOCK_CREDIT}\n                            defaults={defaults}\n                            positiveHandler={(m: any, e: any) =>\n                              onCredit &&\n                              onCredit(m, {\n                                data: {\n                                  ...e,\n                                  stockId: selected,\n                                  supplierId: user.id,\n                                },\n                              })\n                            }\n                          />\n                        ),\n                        options: {\n                          onCredit: async (fn: Function, args: any) => {\n                            await fn({ variables: args })\n                            // refetch();\n                          },\n                          onView: (e: any) =>\n                            history.push(Routes.Stock.detail({ id: e })),\n                        },\n                      }\n                      return (\n                        <EnhancedTable\n                          {...restProps}\n                          loading={loading || dloading}\n                          data={data.stocks.edges}\n                          title='Stock Items'\n                          settings={tableSettings}\n                          count={data.stocks.totalCount}\n                          columnData={stockItemColumnData}\n                          exclude={stockItemExclude}\n                          {...options}\n                          mutate={async (args: any) => {\n                            await lmutate({ variables: args })\n                            // refetch();\n                          }}\n                        />\n                      )\n                    }}\n                  </TableWrapper>\n                )\n              }}\n            </Mutation>\n          </Grid>\n        </Grid>\n      </div>\n    )\n  },\n)\n","import Grid from '@material-ui/core/Grid'\nimport {\n  createStyles,\n  Theme,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core/styles'\nimport React from 'react'\nimport EnhancedTable from '../../components/Enhanced/Table/Table'\nimport TableWrapper from '../../components/TableWrapper'\nimport { STOCK_TRANSACTION_TABLE } from '../../graphql/mutation/local'\nimport { STOCK_TRANSACTION_TABLE as STOCK_TRANSACTION_TABLE_QUERY } from '../../graphql/query/local'\nimport { STOCK_TRANSACTIONS } from '../../graphql/query/remote'\nimport { defaultState } from '../../graphql/resolvers'\nimport commanRender, { RENDER_VALUE } from '../../utils/commanRender'\nimport getContactJSX from '../../utils/getContactJSX'\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n    },\n    fab: {\n      position: 'fixed',\n      width: '4rem',\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 2,\n    },\n  })\n\nexport const stockTransactionColumnData = [\n  {\n    id: 'createdAt',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Created At',\n  },\n  {\n    id: 'stock',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Stock Name',\n  },\n  {\n    id: 'quantity',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Quantity',\n  },\n  {\n    id: 'type',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Transaction Type',\n  },\n  {\n    id: 'available',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Available',\n  },\n  {\n    id: 'supplier',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: 'Supplier/Consumer',\n  },\n  {\n    id: 'note',\n    numeric: false,\n    disablePadding: false,\n    colSpan: 1,\n    label: (\n      <span style={{ paddingLeft: '4rem', paddingRight: '4rem' }}>Note</span>\n    ),\n  },\n]\n\nexport const stockTransactionExclude = [\n  'id',\n  'createdAt',\n  'updatedAt',\n  '__typename',\n]\n\ninterface IStockItem extends WithStyles<typeof styles> {\n  history?: any\n  query?: any\n  getQueryVariables?: any\n}\n\nexport const TransactionPage = withStyles(styles)((props: IStockItem) => {\n  const { classes, history, ...restProps } = props\n  const { stockTransactionTable } = defaultState\n  return (\n    <div>\n      <Grid container={true} className={classes.root}>\n        <Grid item={true} xs={12}>\n          <TableWrapper\n            tableMutation={STOCK_TRANSACTION_TABLE}\n            tableQuery={STOCK_TRANSACTION_TABLE_QUERY}\n            dataQuery={restProps.query || STOCK_TRANSACTIONS}\n            getQueryVariables={restProps.getQueryVariables}\n            defaultState={stockTransactionTable}\n          >\n            {(\n              tableSettings: typeof stockTransactionTable,\n              lmutate: Function,\n              { loading, data, refetch }: IGraphqlData,\n            ) => {\n              const transactions = data[Object.keys(data)[0]]\n              return (\n                <EnhancedTable\n                  {...restProps}\n                  loading={loading}\n                  data={transactions.edges}\n                  title='Stock Transactions'\n                  settings={tableSettings}\n                  count={transactions.totalCount}\n                  columnData={stockTransactionColumnData}\n                  exclude={stockTransactionExclude}\n                  render={commanRender({\n                    match: 'type',\n                    alt: true,\n                    altValue: 'DEBIT',\n                    altColor: '#eee',\n                    renderValue: ({ key, value }: any) => {\n                      if (key === 'contact') {\n                        return { value: getContactJSX(value) }\n                      }\n                      const result = RENDER_VALUE({\n                        key,\n                        value,\n                        skip: ['contact'],\n                      })\n                      return {\n                        ...result,\n                        value: String(value).length ? result.value : '-',\n                      }\n                    },\n                  })}\n                  mutate={async args => {\n                    await lmutate({ variables: args })\n                    // refetch();\n                  }}\n                />\n              )\n            }}\n          </TableWrapper>\n        </Grid>\n      </Grid>\n    </div>\n  )\n})\n","import React, { PureComponent } from 'react'\nimport _404 from '../components/404'\nimport Tabs from '../components/Tabs'\nimport { STOCK_ENHANCED_TABS } from '../graphql/mutation/local'\nimport { STOCK_ENHANCED_TABS as STOCK_ENHANCED_TABS_QUERY } from '../graphql/query/local'\nimport { StockPage } from './Stock/StockPage'\nimport { TransactionPage } from './Stock/Transaction'\n\nclass StockDashboard extends PureComponent {\n  render() {\n    const defaults = [\n      {\n        tab: 'Stock',\n        container: (\n          <StockPage\n            {...this.props}\n            optionable={(this.props as any).me.stockPermission}\n          />\n        ),\n      },\n      // {\n      //   tab: 'Supplier',\n      //   container: <SupplierPage {...this.props} />,\n      // },\n      {\n        tab: 'Transaction',\n        container: <TransactionPage {...this.props} />,\n      },\n    ]\n    const { me }: any = this.props\n    if (me && me.stockPermission) {\n      return (\n        <Tabs\n          defaults={defaults}\n          localStateMutation={STOCK_ENHANCED_TABS}\n          localStateQuery={STOCK_ENHANCED_TABS_QUERY}\n        />\n      )\n    }\n    return <_404 />\n  }\n}\n\nexport default StockDashboard\n"],"sourceRoot":""}