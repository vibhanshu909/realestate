{"version":3,"sources":["pages/Site.tsx","pages/User.tsx","components/Dialogs/PropertyCreditDialog.tsx","pages/Property.tsx","utils/getContactJSX.tsx","components/Tabs.tsx","pages/NewDashboard.tsx"],"names":["siteColumnData","id","numeric","disablePadding","colSpan","label","siteExclude","Site","withStyles","theme","createStyles","root","width","fab","position","bottom","spacing","unit","right","props","classes","history","restProps","Object","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_5___default","container","className","item","xs","_components_Mutation__WEBPACK_IMPORTED_MODULE_4__","mutation","SITE_TABLE","lmutate","args","_components_Query__WEBPACK_IMPORTED_MODULE_7__","query","SITE_TABLE_QUERY","_ref","siteTable","data","DELETE_SITES","deleteSites","page","rowsPerPage","SITES","variables","limit","skip","_ref2","loading","refetch","_components_Enhanced_Table_Table__WEBPACK_IMPORTED_MODULE_15__","assign","sites","title","settings","count","length","columnData","exclude","options","onView","e","push","Routes","detail","onEdit","update","edit","onDelete","_onDelete","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","wrap","_context","prev","next","console","log","defaultState","stop","this","_x","apply","arguments","onAdd","create","render","commanRender","match","mutate","_ref3","_callee2","_context2","_x2","userColumnData","userExclude","User","userEntryTable","_components_TableWrapper__WEBPACK_IMPORTED_MODULE_18__","tableMutation","USER_ENTRY_TABLE","tableQuery","USER_ENTRY_TABLE_QUERY","dataQuery","USERS","tableSettings","DELETE_USERS","deleteUsers","dloading","_components_Enhanced_Table_Table__WEBPACK_IMPORTED_MODULE_19__","users","historyable","USER_CREDIT_HISTORY","menu","selected","_components_EnhancedMenu__WEBPACK_IMPORTED_MODULE_8__","_components_Dialogs_ChangePassword__WEBPACK_IMPORTED_MODULE_9__","reset","positiveHandler","fn","filter","icon","_material_ui_icons_VpnKey__WEBPACK_IMPORTED_MODULE_7___default","content","tooltip","onCredit","_onCredit","_x3","renderValue","key","value","getContactJSX","RENDER_VALUE","_ref4","_callee3","_context3","_x4","defaults","amount","type","default","startAdornment","react_default","InputAdornment_default","nextDueDate","getDate","validate","val","Date","getTime","styles","_CommanDialog","FormDialog","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","_this","open","state","_this$props","_this$props$negativeH","negativeHandler","handleClose","_this$props$positiveH","_this$props$postMutat","postMutation","Mutation","PROPERTY_CREDIT","error","Fragment","IconButton_default","aria-label","onClick","handleOpen","AttachMoney_default","Dialog_default","fullScreen","onClose","aria-labelledby","dist","onSubmit","then","goBack","DialogTitle_default","DialogContent_default","DialogContentText_default","getJSX","DialogActions_default","CircularProgress_default","progress","index_es","message","Button_default","color","autoFocus","size","disabled","CommanDialog","propertyColumnData","propertyExclude","Property","objectWithoutProperties","Grid_default","DELETE_PROPERTIES","deleteProperties","TableWrapper","PROPERTY_TABLE","PROPERTY_TABLE_QUERY","PROPERTIES","propertyTable","getQueryVariables","Table","properties","PROPERTY_CREDIT_HISTORY","credit","PropertyCreditDialog","m","objectSpread","asyncToGenerator","regenerator_default","formatDate","result","String","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","to","setTimeout","window","location","href","concat","TabContainer","children","dir","react__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_11___default","component","EnhancedTabs","backgroundColor","palette","background","paper","app","marginTop","withTheme","_React$PureComponent","_class","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_home_vibhanshu_Documents_RealEstate_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","_this$props2","localStateQuery","localStateMutation","tabs","containers","map","_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_10___default","tab","direction","_components_Mutation__WEBPACK_IMPORTED_MODULE_13__","_components_Query__WEBPACK_IMPORTED_MODULE_12__","enhancedTabs","keys","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_9___default","onChange","_","indicatorColor","textColor","react_swipeable_views__WEBPACK_IMPORTED_MODULE_7___default","axis","index","onChangeIndex","React","PureComponent","Dashboard","_User__WEBPACK_IMPORTED_MODULE_7__","_Site__WEBPACK_IMPORTED_MODULE_8__","_Property__WEBPACK_IMPORTED_MODULE_9__","_components_Tabs__WEBPACK_IMPORTED_MODULE_6__","ENHANCED_TABS","ENHANCED_TABS_QUERY"],"mappings":"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","file":"static/js/22.6253e798.chunk.js","sourcesContent":["import React, { PureComponent } from 'react'\nimport Mutation from '../components/Mutation'\nimport Grid from '@material-ui/core/Grid'\nimport { withStyles, createStyles, Theme, WithStyles } from '@material-ui/core/styles'\nimport Query from '../components/Query'\nimport { defaultState } from '../graphql/resolvers'\nimport { Routes } from '../Router'\n\nimport { SITES } from '../graphql/query/remote'\nimport { SITE_TABLE as SITE_TABLE_QUERY } from '../graphql/query/local'\n\nimport { SITE_TABLE } from '../graphql/mutation/local'\nimport { DELETE_SITES } from '../graphql/mutation/remote'\n\nimport commanRender from '../utils/commanRender'\nimport EnhancedTable from '../components/Enhanced/Table/Table'\n\nconst styles = (theme: Theme) => createStyles({\n  root: {\n    width: '100%',\n  },\n  fab: {\n    position: 'fixed',\n    width: '4rem',\n    bottom: theme.spacing.unit * 2,\n    right: theme.spacing.unit * 2,\n  },\n})\n\nexport const siteColumnData = [\n  { id: 'createdAt', numeric: false, disablePadding: false, colSpan: 1, label: 'Created At' },\n  { id: 'name', numeric: false, disablePadding: false, colSpan: 1, label: 'Name' },\n  { id: 'location', numeric: false, disablePadding: false, colSpan: 1, label: 'Location' },\n  { id: 'entryCount', numeric: false, disablePadding: false, colSpan: 1, label: 'Total Entries' },\n  { id: 'manager', numeric: false, disablePadding: false, colSpan: 1, label: 'Manager' },\n  { id: 'managerSpentAmount', numeric: false, disablePadding: false, colSpan: 1, label: 'Manager Spent Amount (₹)' },\n  { id: 'Total Cost', numeric: false, disablePadding: false, colSpan: 1, label: 'Total Cost (₹)' },\n]\nexport const siteExclude = ['id', 'count', 'total', 'createdAt', 'updatedAt', '__typename']\n\ninterface ISiteProps extends WithStyles<typeof styles> {\n  history?: any\n}\n\nconst Site = withStyles(styles)((props: ISiteProps) => {\n  const { classes, history, ...restProps } = props\n  return (\n    <div>\n      <Grid container={true} className={classes.root}>\n        <Grid item={true} xs={12}>\n          <Mutation mutation={SITE_TABLE}>\n            {(lmutate: Function, args: IGraphqlData) => {\n              return (\n                <Query query={SITE_TABLE_QUERY}>\n                  {({ data: { siteTable } }: IGraphqlData) => {\n                    return (\n                      <Mutation mutation={DELETE_SITES}>\n                        {(deleteSites: Function) => {\n                          const { page, rowsPerPage } = siteTable\n                          return (\n                            <Query query={SITES} variables={{ limit: rowsPerPage, skip: page * rowsPerPage }}>\n                              {\n                                ({ loading, data, refetch }: IGraphqlData) => {\n                                  // refetch();\n                                  return (\n                                    <EnhancedTable\n                                      {...restProps}\n                                      loading={loading}\n                                      data={data.sites}\n                                      title='Sites'\n                                      settings={siteTable}\n                                      count={(data.sites.length && data.sites[0].count) || data.sites.length}\n                                      columnData={siteColumnData}\n                                      exclude={siteExclude}\n                                      options={{\n                                        onView: (e: any) => history.push(Routes.Site.detail({ id: e })),\n                                        onEdit: (e: any) => history.push(Routes.Site.update({ id: e, edit: true })),\n                                        onDelete: async (args: any) => {\n                                          console.log('calling deleteMutate function...')\n                                          await deleteSites({ variables: args })\n                                          await lmutate({ variables: defaultState.siteTable })\n                                          refetch()\n                                        },\n                                        onAdd: () => history.push(Routes.Site.create()),\n                                      }}\n                                      render={commanRender({ match: 'managerSpentAmount' })}\n                                      mutate={async args => {\n                                        await lmutate({ variables: args })\n                                        // refetch();\n                                      }}\n                                    >\n                                    </EnhancedTable>\n                                  )\n                                }}\n                            </Query>\n                          )\n                        }}\n                      </Mutation>\n                    )\n                  }}\n                </Query>\n              )\n            }}\n          </Mutation>\n        </Grid>\n      </Grid>\n    </div>\n  )\n})\n\nexport default Site\n","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\nimport Mutation from '../components/Mutation'\nimport Grid from '@material-ui/core/Grid'\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles'\nimport VpnKey from '@material-ui/icons/VpnKey'\nimport EnhancedMenu, { CreateMenuItem } from '../components/EnhancedMenu'\nimport Query from '../components/Query'\nimport ChangePassword from '../components/Dialogs/ChangePassword'\nimport { defaultState } from '../graphql/resolvers'\nimport filter from '../utils/filter'\nimport { Routes } from '../Router'\n\nimport { USERS, USER_CREDIT_HISTORY } from '../graphql/query/remote'\nimport { USER_ENTRY_TABLE as USER_ENTRY_TABLE_QUERY } from '../graphql/query/local'\n\nimport { USER_ENTRY_TABLE } from '../graphql/mutation/local'\nimport { DELETE_USERS } from '../graphql/mutation/remote'\n\nimport commanRender from '../utils/commanRender'\nimport { RENDER_VALUE } from '../utils/commanRender'\nimport TableWrapper from '../components/TableWrapper'\nimport EnhancedTable from '../components/Enhanced/Table/Table'\nimport getContactJSX from '../utils/getContactJSX'\n\nconst styles = (theme: Theme) => createStyles({\n  root: {\n    width: '100%',\n  },\n  fab: {\n    position: 'fixed',\n    width: '4rem',\n    bottom: theme.spacing.unit * 2,\n    right: theme.spacing.unit * 2,\n  },\n})\n\nexport const userColumnData = [\n  { id: 'createdAt', numeric: false, disablePadding: false, colSpan: 1, label: 'Created At' },\n  { id: 'username', numeric: false, disablePadding: false, colSpan: 1, label: 'Username' },\n  { id: 'contact', numeric: false, disablePadding: false, colSpan: 1, label: 'Phone Number' },\n  { id: 'siteCount', numeric: false, disablePadding: false, colSpan: 1, label: 'Total Sites' },\n  { id: 'totalSitesCost', numeric: false, disablePadding: false, colSpan: 1, label: 'Total Sites Cost (₹)' },\n  { id: 'totalReceivedAmount', numeric: false, disablePadding: false, colSpan: 1, label: 'Total Received Amount (₹)' },\n  { id: 'spent', numeric: false, disablePadding: false, colSpan: 1, label: 'Spent Amount (₹)' },\n  { id: 'balance', numeric: false, disablePadding: false, colSpan: 1, label: 'Balance Amount (₹)' },\n]\nexport const userExclude = ['id', 'count', 'sites', 'createdAt', 'updatedAt', '__typename']\n\ninterface IUserProps extends WithStyles<typeof styles> {\n  history?: any\n}\nconst User = withStyles(styles)((props: IUserProps) => {\n  const { classes, history, ...restProps } = props\n  const { userEntryTable } = defaultState\n  return (\n    <div>\n      <Grid container={true} className={classes.root}>\n        <Grid item={true} xs={12}>\n          <TableWrapper\n            tableMutation={USER_ENTRY_TABLE}\n            tableQuery={USER_ENTRY_TABLE_QUERY}\n            dataQuery={USERS}\n            defaultState={userEntryTable}\n          >\n            {(tableSettings: typeof userEntryTable, lmutate: Function, { loading, data, refetch }: IGraphqlData) => {\n              return (\n                <Mutation mutation={DELETE_USERS}>\n                  {(deleteUsers: Function, { loading: dloading }: IGraphqlData) => {\n                    return (\n                      <EnhancedTable\n                        {...restProps}\n                        loading={loading || dloading}\n                        data={data.users}\n                        title='Users'\n                        settings={tableSettings}\n                        count={(data.users.length && data.users[0].count) || data.users.length}\n                        columnData={userColumnData}\n                        exclude={userExclude}\n                        historyable={USER_CREDIT_HISTORY}\n                        menu={\n                          (selected: any) => {\n                            return selected.length === 1 ?\n                              (\n                                <EnhancedMenu\n                                  options={[\n                                    (props: any) => {\n                                      return (\n                                        <ChangePassword\n                                          {...props}\n                                          reset={true}\n                                          positiveHandler={(fn, args) => {\n                                            return fn({\n                                              variables: {\n                                                id: selected[0],\n                                                data: filter(args, ['confirmNewPassword']),\n                                              },\n                                            })\n                                          }}>\n                                          <CreateMenuItem\n                                            {...props}\n                                            icon={<VpnKey />}\n                                            content='Reset Password'\n                                            tooltip='Reset Password'\n                                          />\n                                        </ChangePassword>\n                                      )\n                                    },\n                                  ]}\n                                />\n                              ) : (null)\n                          }}\n                        options={{\n                          onCredit: async (fn: Function, args: any) => {\n                            await fn({ variables: args })\n                            // refetch();\n                          },\n                          onDelete: async (args: any) => {\n                            console.log('calling deleteMutate function...')\n                            await deleteUsers({ variables: args })\n                            await lmutate({ variables: defaultState.userEntryTable })\n                            refetch()\n                          },\n                          onAdd: () => history.push(Routes.User.create()),\n                        }}\n                        render={commanRender({\n                          match: 'spent',\n                          renderValue: ({ key, value }: any) => {\n                            if (key === 'contact') {\n                              return { value: getContactJSX(value) }\n                            }\n                            return RENDER_VALUE({ key, value })\n                          },\n                        })}\n                        mutate={async args => {\n                          await lmutate({ variables: args })\n                          // refetch();\n                        }}>\n                      </EnhancedTable>\n                    )\n                  }}\n                </Mutation>\n              )\n            }}\n          </TableWrapper>\n        </Grid>\n      </Grid>\n    </div>\n  )\n})\n\nexport default User\n","import React from 'react'\nimport { withStyles } from '@material-ui/core/styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney'\nimport Mutation from '../Mutation'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { Form } from 'informed'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport { FormHelperText } from '@material-ui/core'\nimport { PROPERTY_CREDIT } from '../../graphql/mutation/remote'\n// import { defaults as propertyDefaults } from '../forms/CreateProperty';\nimport { getDate } from '../../utils/date'\nimport { getJSX } from '../forms/FormGenerator'\nimport CommanDialog, { IProps, styles } from './CommanDialog'\n\nconst defaults = {\n  amount: {\n    type: 'number',\n    default: 0,\n    startAdornment: <InputAdornment position='start'>₹</InputAdornment>,\n  },\n  nextDueDate: {\n    type: 'date',\n    default: getDate(),\n    validate: (val: any) => {\n      if (new Date(val).getTime() <= new Date(getDate()).getTime()) {\n        return 'Must be a future date'\n      }\n      return null\n    },\n  },\n}\n\ninterface IFormDialog extends IProps {\n  selected?: string\n}\n\nexport default withStyles(styles)(\n  class FormDialog extends CommanDialog<IFormDialog> {\n    render() {\n      const { open } = this.state\n      const {\n        classes,\n        history,\n        selected,\n        negativeHandler = () => this.handleClose(),\n        positiveHandler = () => null,\n        postMutation = () => null,\n      } = this.props\n      const title = 'Add Credit'\n      const content = 'Add credit amount to this property.'\n      return (\n        <div>\n          <Mutation mutation={PROPERTY_CREDIT}>\n            {(mutate: Function, { loading, error, data }: IGraphqlData) => {\n              return (\n                <React.Fragment>\n                  <IconButton aria-label='Credit' title='Credit' onClick={this.handleOpen}>\n                    <AttachMoneyIcon />\n                  </IconButton>\n                  {\n                    open ? (\n                      <Dialog\n                        fullScreen={false}\n                        open={open}\n                        onClose={negativeHandler}\n                        aria-labelledby={title}\n                        title={title}\n                      >\n                        <Form\n                          onSubmit={(e: any) => {\n                            positiveHandler(mutate, { data: e }, selected)\n                              .then((data: any) => {\n                                if (postMutation) {\n                                  postMutation(data)\n                                  this.handleClose()\n                                } else {\n                                  history.goBack()\n                                }\n                              })\n                          }}\n                        >\n                          <DialogTitle id={title}>{title}</DialogTitle>\n                          <DialogContent>\n                            <DialogContentText>\n                              {content}\n                            </DialogContentText>\n                            {\n                              getJSX(defaults)\n                            }\n                          </DialogContent>\n                          <DialogActions>\n                            {\n                              loading ? <CircularProgress className={classes.progress} /> : null}\n                            {\n                              error ? <FormHelperText error={true}>{error.message}</FormHelperText> : null}\n                            <Button onClick={negativeHandler} color='primary' autoFocus={true}>Cancel</Button>\n                            <Button size='large' type='submit' disabled={loading}>Confirm</Button>\n                          </DialogActions>\n                        </Form>\n                      </Dialog>\n                    ) : null\n\n                  }\n\n                </React.Fragment>\n              )\n            }}\n          </Mutation>\n        </div>\n      )\n    }\n  },\n\n)\n","import React, { PureComponent } from 'react'\nimport { Link } from 'react-router-dom'\nimport Mutation from '../components/Mutation'\nimport Grid from '@material-ui/core/Grid'\nimport { withStyles, Theme, createStyles, WithStyles } from '@material-ui/core/styles'\nimport { defaultState } from '../graphql/resolvers'\nimport { Routes } from '../Router'\n\nimport { PROPERTIES, PROPERTY_CREDIT_HISTORY } from '../graphql/query/remote'\nimport { PROPERTY_TABLE as PROPERTY_TABLE_QUERY } from '../graphql/query/local'\n\nimport { PROPERTY_TABLE } from '../graphql/mutation/local'\nimport { DELETE_PROPERTIES } from '../graphql/mutation/remote'\n\nimport commanRender from '../utils/commanRender'\nimport TableWrapper from '../components/TableWrapper'\nimport formatDate from '../utils/date'\nimport PropertyCreditDialog from '../components/Dialogs/PropertyCreditDialog'\nimport { RENDER_VALUE } from '../utils/commanRender'\nimport EnhancedTable from '../components/Enhanced/Table/Table'\nimport getContactJSX from '../utils/getContactJSX'\n\nconst styles = (theme: Theme) => createStyles({\n  root: {\n    width: '100%',\n  },\n  fab: {\n    position: 'fixed',\n    width: '4rem',\n    bottom: theme.spacing.unit * 2,\n    right: theme.spacing.unit * 2,\n  },\n})\n\nexport const propertyColumnData = [\n  { id: 'createdAt', numeric: false, disablePadding: false, colSpan: 1, label: 'Created At' },\n  { id: 'name', numeric: false, disablePadding: false, colSpan: 1, label: 'Name' },\n  { id: 'location', numeric: false, disablePadding: false, colSpan: 1, label: 'Location' },\n  { id: 'price', numeric: false, disablePadding: false, colSpan: 1, label: 'Price (₹)' },\n  { id: 'buyer', numeric: false, disablePadding: false, colSpan: 1, label: 'Bought By' },\n  { id: 'buyerNumber', numeric: false, disablePadding: false, colSpan: 1, label: 'Buyer\\'s Phone Number' },\n  { id: 'totalReceivedAmount', numeric: false, disablePadding: false, colSpan: 1, label: 'Total Received Amount (₹)' },\n  { id: 'balance', numeric: false, disablePadding: false, colSpan: 1, label: 'Balance Amount (₹)' },\n  { id: 'nextDueDate', numeric: false, disablePadding: false, colSpan: 1, label: 'Next Due Date' },\n  { id: 'note', numeric: false, disablePadding: false, colSpan: 1, label: 'Note' },\n]\nexport const propertyExclude = ['id', 'count', 'createdAt', 'updatedAt', '__typename']\n\ninterface IProperty extends WithStyles<typeof styles> {\n  history?: any,\n}\nconst Property = withStyles(styles)((props: IProperty) => {\n  const { classes, history, ...restProps } = props\n  return (\n    <div>\n      <Grid container={true} className={classes.root}>\n        <Grid item={true} xs={12}>\n          <Mutation mutation={DELETE_PROPERTIES}>\n            {(deleteProperties: Function, { loading: dloading }: IGraphqlData) => {\n              return (\n                <TableWrapper\n                  tableMutation={PROPERTY_TABLE}\n                  tableQuery={PROPERTY_TABLE_QUERY}\n                  dataQuery={PROPERTIES}\n                  defaultState={defaultState.propertyTable}\n                  getQueryVariables={e => ({})}\n                >\n                  {(tableSettings: typeof defaultState.propertyTable, lmutate: Function, { loading, data, refetch }: IGraphqlData) => {\n                    return (\n                      <EnhancedTable\n                        {...restProps}\n                        loading={loading || dloading}\n                        data={data.properties}\n                        title='Properties'\n                        settings={tableSettings}\n                        count={(data.properties.length && data.properties[0].count) || data.properties.length}\n                        columnData={propertyColumnData}\n                        exclude={propertyExclude}\n                        historyable={PROPERTY_CREDIT_HISTORY}\n                        credit={(\n                          <PropertyCreditDialog\n                            {...restProps}\n                            positiveHandler={(m, e, selected) => m({ variables: { ...e, id: selected } })}\n                          >\n                          </PropertyCreditDialog>\n                        )}\n                        // menu={<EnhancedMenu/>}\n                        options={{\n                          onEdit: (e: any) => history.push(Routes.Property.update({ id: e, edit: true })),\n                          onCredit: async (fn: Function, args: any) => {\n                            await fn({ variables: args })\n                            // refetch();\n                          },\n                          onDelete: async (args: any) => {\n                            console.log('calling deleteMutate function...')\n                            await deleteProperties({ variables: args })\n                            await lmutate({ variables: defaultState.propertyTable })\n                            refetch()\n                          },\n                          onAdd: () => history.push(Routes.Property.create()),\n                        }}\n                        render={commanRender({\n                          match: 'totalReceivedAmount',\n                          renderValue: ({ key, value }: { key: string, value: any }) => {\n                            if (key === 'nextDueDate') {\n                              return { value: formatDate(value) }\n                            } else if (key === 'buyerNumber') {\n                              return { value: getContactJSX(value) }\n                            }\n                            const result = RENDER_VALUE({ key, value, skip: ['buyerNumber'] })\n                            return { ...result, value: String(value).length ? result.value : '-' }\n                          },\n                        })}\n                        mutate={async args => {\n                          await lmutate({ variables: args })\n                          // refetch();\n                        }}>\n                      </EnhancedTable>\n                    )\n                  }}\n                </TableWrapper>\n\n              )\n            }}\n\n          </Mutation>\n        </Grid>\n      </Grid>\n    </div>\n  )\n})\n\nexport default Property\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst getContactJSX = (value: number) => (\n  value ?\n    <Link\n      to={''}\n      onClick={e =>\n        setTimeout(e => window.location.href = `tel:+91-${value}`, 0)\n      }\n    >\n      {value}\n    </Link> :\n    '-'\n)\nexport default getContactJSX\n","import React from 'react'\nimport { withStyles, createStyles, Theme, WithStyles } from '@material-ui/core/styles'\nimport SwipeableViews from 'react-swipeable-views'\nimport AppBar from '@material-ui/core/AppBar'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport Query from '../components/Query'\nimport Mutation from '../components/Mutation'\n\nfunction TabContainer({ children, dir }: any) {\n  return (\n    <Typography component='div' dir={dir} >\n      {children}\n    </Typography>\n  )\n}\n\nconst styles = (theme: Theme) => createStyles({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n  },\n  app: {\n    marginTop: theme.spacing.unit * 8,\n  },\n  content: {\n    marginTop: theme.spacing.unit * 5,\n  },\n})\n\ninterface IEnhancedTabsProps extends WithStyles<typeof styles, true> {\n  defaults: any[]\n  localStateQuery: any,\n  localStateMutation: any,\n}\n\nconst EnhancedTabs = withStyles(styles, { withTheme: true })(\n  class extends React.PureComponent<IEnhancedTabsProps> {\n    render() {\n      const { classes, theme } = this.props\n      const { defaults, localStateQuery, localStateMutation } = this.props\n      const result: { tabs: any[], containers: any[] } = { tabs: [], containers: [] }\n      defaults.map((e: any) => {\n        result.tabs.push(<Tab label={e.tab} key={e.tab} />)\n        result.containers.push(<TabContainer dir={theme.direction} key={e.tab + '_container'}>{e.container}</TabContainer>)\n        return null\n      })\n\n      return (\n        <Mutation mutation={localStateMutation}>\n          {(lmutate: Function) => {\n            return (\n              <Query query={localStateQuery}>\n                {({ data }: any) => {\n                  const enhancedTabs = data[Object.keys(data)[0]]\n                  return (\n                    <div className={classes.root}>\n                      <AppBar color='default' className={classes.app}>\n                        <Tabs\n                          value={enhancedTabs.value}\n                          onChange={(_, value) => lmutate({ variables: { value } })}\n                          indicatorColor='primary'\n                          textColor='primary'\n                        >\n                          {result.tabs}\n                        </Tabs>\n                      </AppBar>\n                      <SwipeableViews\n                        className={classes.content}\n                        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n                        index={enhancedTabs.value}\n                        onChangeIndex={value => lmutate({ variables: { value } })}\n                      >\n                        {result.containers}\n                      </SwipeableViews>\n                    </div>\n                  )\n                }}\n\n              </Query>\n            )\n          }}\n        </Mutation>\n      )\n    }\n  },\n)\nexport default EnhancedTabs\n","import React, { PureComponent } from 'react'\n// import distanceInWords from 'date-fns/distance_in_words'\nimport Tabs from '../components/Tabs'\nimport UserPage from './User'\nimport SitePage from './Site'\nimport PropertyPage from './Property'\nimport { ENHANCED_TABS } from '../graphql/mutation/local'\nimport { ENHANCED_TABS as ENHANCED_TABS_QUERY } from '../graphql/query/local'\n\n// console.log(distanceInWords(new Date(\"10/13/2018\"), new Date()));\n\nclass Dashboard extends PureComponent {\n  render() {\n    const defaults = [\n      {\n        tab: 'User',\n        container: <UserPage {...this.props} />,\n      },\n      {\n        tab: 'Site',\n        container: <SitePage {...this.props} />,\n      },\n      {\n        tab: 'Property',\n        container: <PropertyPage {...this.props} />,\n      },\n    ]\n    return (\n      <Tabs defaults={defaults} localStateMutation={ENHANCED_TABS} localStateQuery={ENHANCED_TABS_QUERY}></Tabs>\n    )\n  }\n}\n\nexport default Dashboard\n"],"sourceRoot":""}