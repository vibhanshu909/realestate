(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{684:function(e,t,a){"use strict";var n=a(32),r=a(21),u=a(17),l=a(24),c=a(19),i=a(18),o=a(20),s=a(0),d=a.n(s),f=a(239),p=a(99),b=a(54),m=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"mergeData",value:function(e,t){var a=this,n={};return Object.keys(e).forEach(function(u){if(n[u]=Object(r.a)({},e[u]),"date"===e[u].type)n[u].default=Object(f.c)(t[u]);else if(e[u].default instanceof Array)n[u].current=t[u]&&(t[u][n[u].mapping&&n[u].mapping.value]||t[u]);else if("string"===typeof e[u].default||"number"===typeof e[u].default)n[u].default=t[u];else if(e[u].type===Boolean)n[u].default=t[u];else if("custom"===e[u].type);else{if(!(e[u].default instanceof Object))throw new Error("merge error");n[u].default=Object(r.a)({},a.mergeData(e[u].default,t[u]))}}),n}},{key:"render",value:function(){var e=this,t=this.props.match.params,a=t.edit,r=void 0!==a&&a,u=Object(n.a)(t,["edit"]),l=this.props,c=l.query,i=l.getQueryVariables,o=void 0===i?function(e){return{id:e.id}}:i,s=l.defaults,f=l.skipOnUpdate,m=l.clientOnly,y=s;return"edit"===r?(y=Object(p.a)(s,f),d.a.createElement(b.a,{query:c,variables:o(u),fetchPolicy:"cache-and-network"},function(t){var a=t.loading,n=t.error,r=t.data;if(a)return d.a.createElement("span",null,"loading...");if(n)return d.a.createElement("span",null,"Error Occured!");var u=e.mergeData(Object(p.a)(y,m),r[Object.keys(r)[0]]);return u=Object.assign(y,u),e.props.children instanceof Function&&e.props.children({update:!0,defaults:u,queryResult:r})})):this.props.children instanceof Function&&this.props.children({update:!1,defaults:y,queryResult:null})}}]),t}(s.PureComponent);t.a=m},739:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(21),u=a(17),l=a(24),c=a(19),i=a(18),o=a(20),s=a(100),d=a.n(s),f=a(143),p=a.n(f),b=a(47),m=a(0),y=a.n(m),O=a(77),j=a(34),h=a(239),v=a(242),g=a(54),q=a(684),E=a(78);function k(){var e=Object(n.a)(["\n          query {\n            stocks {\n              totalCount\n              edges {\n                name\n                available\n              }\n            }\n          }\n        "]);return k=function(){return e},e}var w=Object(b.withFormState)(function(e){var t=e.formState.values,a=0,n=0;return Object.values(t).forEach(function(e){a+=Number(e.cost)||0,n+=e.paid&&Number(e.cost)||0}),y.a.createElement(y.a.Fragment,null,y.a.createElement("p",{style:{color:"green"}},y.a.createElement("label",null,"Manager Total Cost:")," ",Object(v.a)(n)),y.a.createElement("p",{style:{}},y.a.createElement("label",null,"Total Cost:")," ",Object(v.a)(a)))}),C=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.user,a=this.props.match.params,n=a.siteId,u=a.id,l={quantity:{type:"number",default:0,required:!0},cost:{type:"number",default:0,required:!0,startAdornment:y.a.createElement(d.a,{position:"start"},"\u20b9")},paid:{type:Boolean,default:!1,required:!0}},c={mistri:{default:Object(r.a)({},l)},labour:{default:Object(r.a)({},l)},eit:{default:Object(r.a)({},l)},morang:{default:Object(r.a)({},l)},baalu:{default:Object(r.a)({},l)},githi:{default:Object(r.a)({},l)},cement:{default:Object(r.a)({},l)},saria:{default:Object(r.a)({},l)},dust:{default:Object(r.a)({},l)},other:{default:{quantity:{type:"text",default:"N/A",required:!0},cost:{type:"number",default:0,required:!0},paid:{type:Boolean,default:!1,required:!0}}},other2:{label:"other 2",default:{quantity:{type:"text",default:"N/A",required:!0},cost:{type:"number",default:0,required:!0},paid:{type:Boolean,default:!1,required:!0}}},note:{type:"text",default:""},createdAt:t.isAdmin()?{type:"date",default:Object(h.c)()}:null,totalCost:{type:"custom",default:y.a.createElement(w,null)}};return y.a.createElement(g.a,{query:p()(k())},function(t){return t.data.stocks.edges.forEach(function(e){c[e.name].default.quantity=Object(r.a)({},c[e.name].default.quantity),c[e.name].default=Object(r.a)({available:{type:"custom",default:y.a.createElement("span",{style:{color:"green"}},"Stock Available: ",Object(v.a)(e.available))}},c[e.name].default)}),y.a.createElement(q.a,Object.assign({},e.props,{query:j.j,defaults:c,clientOnly:["totalCost"]}),function(t){var a=t.update,r=t.defaults;return y.a.createElement(E.a,Object.assign({},e.props,{defaults:r,mutation:a?O.o:O.c,title:a?"Update this entry":"Create a new entry",submitText:a?"Update entry":"Create entry",mutateFunc:function(e,t){return e({variables:{siteId:n,id:u,data:t}})}}))})})}}]),t}(m.PureComponent);t.default=C}}]);
//# sourceMappingURL=11.b33c116f.chunk.js.map