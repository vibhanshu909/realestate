webpackJsonp([2],{781:function(n,e,t){"use strict";function r(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?n:e}function a(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=t(1),o=t.n(u),s=t(60),c=(t.n(s),t(802)),l=t(289),d=t(786),p=t(279),f=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),m=function(n){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,n),f(e,[{key:"render",value:function(){var n=this;return o.a.createElement(s.Query,{query:d.g},function(e){var t=e.loading,r=e.error,i=e.data;if(t)return o.a.createElement("span",null,"loading...");if(r)return o.a.createElement("span",null,"Error Occured!");var a={name:{type:"text",default:""},location:{type:"text",default:""},manager:{type:"select",default:i.users,current:null},createdAt:{type:"date",default:new Date}},u=n.props.match.params.id;return o.a.createElement(c.a,Object.assign({},n.props,{query:d.a,defaults:a,skipOnUpdate:["manager","createdAt"]}),function(e){var t=e.update,r=e.defaults;e.queryResult;return console.log(r),o.a.createElement(l.a,Object.assign({},n.props,{defaults:r,mutation:t?p.h:p.a,title:t?"Update this site":"Create a new site",submitText:t?"Update Site":"Create Site",mutateFunc:function(n,e){return n({variables:{id:u,data:e}})}}))})})}}]),e}(u.Component);e.default=m},786:function(n,e,t){"use strict";function r(n,e){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}t.d(e,"f",function(){return p}),t.d(e,"e",function(){return f}),t.d(e,"g",function(){return m}),t.d(e,"c",function(){return y}),t.d(e,"a",function(){return b}),t.d(e,"d",function(){return h}),t.d(e,"b",function(){return $});var i=t(80),a=(t.n(i),r(["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id,\n            username,            \n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt,\n            count,\n        }\n    }\n"],["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id,\n            username,            \n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt,\n            count,\n        }\n    }\n"])),u=r(["\n    query user($id: String!){\n        user(id: $id) {\n            id,\n            username,\n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt            \n        }\n    }\n"],["\n    query user($id: String!){\n        user(id: $id) {\n            id,\n            username,\n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt            \n        }\n    }\n"]),o=r(["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id\n            username\n        }\n    }\n"],["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id\n            username\n        }\n    }\n"]),s=r(["\n  query sites($limit: Int, $skip: Int) {\n    sites(limit: $limit, skip: $skip) {\n        id,\n        name,\n        location,\n        entryCount,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        cost\n    }\n  }\n"],["\n  query sites($limit: Int, $skip: Int) {\n    sites(limit: $limit, skip: $skip) {\n        id,\n        name,\n        location,\n        entryCount,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        cost\n    }\n  }\n"]),c=r(["\n  query site($id: String!) {\n    site(id: $id) {\n        id,\n        name,\n        location,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }        \n    }\n  }\n"],["\n  query site($id: String!) {\n    site(id: $id) {\n        id,\n        name,\n        location,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }        \n    }\n  }\n"]),l=r(["\n    query siteEntries($id: String!, $limit: Int!, $skip: Int){\n        siteEntries(id: $id, limit: $limit, skip: $skip){\n            id,\n            name,\n            location,\n            cost,\n            count,\n            manager {\n                id,\n                name: username,                \n            },\n            managerSpentAmount,\n            entries\n            {\n                id,\n                createdAt,\n                updatedAt,                \n                mistri ",",\n                labour ",",\n                eit ",",\n                morang ",",\n                githi ",",\n                cement ",",\n                saria ",",\n                dust ",",\n                other ",",\n                managerSpentAmount,\n                total\n            }\n        }\n    }\n"],["\n    query siteEntries($id: String!, $limit: Int!, $skip: Int){\n        siteEntries(id: $id, limit: $limit, skip: $skip){\n            id,\n            name,\n            location,\n            cost,\n            count,\n            manager {\n                id,\n                name: username,                \n            },\n            managerSpentAmount,\n            entries\n            {\n                id,\n                createdAt,\n                updatedAt,                \n                mistri ",",\n                labour ",",\n                eit ",",\n                morang ",",\n                githi ",",\n                cement ",",\n                saria ",",\n                dust ",",\n                other ",",\n                managerSpentAmount,\n                total\n            }\n        }\n    }\n"]),d=r(["\n    query siteEntry($id: String!){\n        siteEntry(id: $id){\n            id,\n            createdAt,\n            updatedAt,                \n            mistri ",",\n            labour ",",\n            eit ",",\n            morang ",",\n            githi ",",\n            cement ",",\n            saria ",",\n            dust ",",\n            other ",",\n            total\n        }\n    }\n"],["\n    query siteEntry($id: String!){\n        siteEntry(id: $id){\n            id,\n            createdAt,\n            updatedAt,                \n            mistri ",",\n            labour ",",\n            eit ",",\n            morang ",",\n            githi ",",\n            cement ",",\n            saria ",",\n            dust ",",\n            other ",",\n            total\n        }\n    }\n"]),p=Object(i.gql)(a),f=Object(i.gql)(u),m=Object(i.gql)(o),y=Object(i.gql)(s),b=Object(i.gql)(c),g="{\n    quantity,\n    cost,\n    paid\n}",h=Object(i.gql)(l,g,g,g,g,g,g,g,g,g),$=Object(i.gql)(d,g,g,g,g,g,g,g,g,g)},787:function(n,e,t){"use strict";e.a=function(n,e){return Object.keys(n).filter(function(n){return!e.includes(n)}).reduce(function(e,t){return e[t]=n[t],e},{})}},802:function(n,e,t){"use strict";function r(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?n:e}function u(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var o=t(1),s=t.n(o),c=t(60),l=(t.n(c),t(787)),d=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),p=function(n){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,n),d(e,[{key:"formatDate",value:function(n){var e=new Date(n),t=""+(e.getMonth()+1),r=""+e.getDate(),i=e.getFullYear();return t.length<2&&(t="0"+t),r.length<2&&(r="0"+r),[i,t,r].join("-")}},{key:"mergeData",value:function(n,e){var t=this,r={};return Object.keys(n).forEach(function(i){if(r[i]=Object.assign({},n[i]),"string"===typeof n[i].default||"number"===typeof n[i].default)r[i].default=e[i];else if(n[i].default instanceof Array);else if(n[i].type===Boolean)r[i].default=e[i];else if("date"===n[i].type)r[i].default=t.formatDate(e[i]);else{if(!(n[i].default instanceof Object))throw new Error("merge error");r[i].default=Object.assign({},t.mergeData(n[i].default,e[i]))}}),r}},{key:"render",value:function(){var n=this,e=this.props.match.params,t=e.edit,i=void 0!==t&&t,a=r(e,["edit"]),u=this.props,o=u.query,d=u.getQueryVariables,p=void 0===d?function(n){return{id:n.id}}:d,f=u.defaults,m=u.skipOnUpdate,y=f;return i?(y=Object(l.a)(f,m),s.a.createElement(c.Query,{query:o,variables:p(a)},function(e){var t=e.loading,r=e.error,i=e.data;if(t)return s.a.createElement("span",null,"loading...");if(r)return s.a.createElement("span",null,"Error Occured!");var a=n.mergeData(y,i[Object.keys(i)[0]]);return n.props.children({update:!0,defaults:a,queryResult:i})})):this.props.children({update:!1,defaults:y,queryResult:null})}}]),e}(o.Component);e.a=p}});
//# sourceMappingURL=2.a0fd204c.chunk.js.map