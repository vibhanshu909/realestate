(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{686:function(e,t,a){"use strict";var n=a(17),r=a(24),i=a(19),c=a(18),l=a(20),o=a(144),u=a.n(o),s=a(25),d=a(336),p=a.n(d),b=a(337),m=a.n(b),f=a(37),v=a.n(f),y=a(0),h=a.n(y),g=a(689),k=a.n(g),j=a(55),E=a(54);function O(e){var t=e.children,a=e.dir;return h.a.createElement(v.a,{component:"div",dir:a},t)}var S=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{backgroundColor:e.palette.background.paper,width:"100%"},app:{marginTop:8*e.spacing.unit},content:{marginTop:5*e.spacing.unit},selected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText}})},{withTheme:!0})(function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.props,r=n.defaults,i=n.localStateQuery,c=n.localStateMutation,l={tabs:[],containers:[]};return r.map(function(e){return l.tabs.push(h.a.createElement(p.a,{label:e.tab,key:e.tab,classes:{selected:t.selected}})),l.containers.push(h.a.createElement(O,{dir:a.direction,key:e.tab+"_container"},e.container)),null}),h.a.createElement(j.a,{mutation:c},function(e){return h.a.createElement(E.a,{query:i},function(n){var r=n.data,i=r[Object.keys(r)[0]];return h.a.createElement("div",{className:t.root},h.a.createElement(u.a,{color:"default",className:t.app},h.a.createElement(m.a,{value:i.value,onChange:function(t,a){return e({variables:{value:a}})},indicatorColor:"secondary"},l.tabs)),h.a.createElement(k.a,{className:t.content,axis:"rtl"===a.direction?"x-reverse":"x",index:i.value,onChangeIndex:function(t){return e({variables:{value:t}})}},l.containers))})})}}]),t}(h.a.PureComponent));t.a=S},690:function(e,t,a){"use strict";a.d(t,"a",function(){return A});var n=a(26),r=a.n(n),i=a(41),c=a(21),l=a(32),o=a(6),u=a(56),s=a.n(u),d=a(25),p=a(143),b=a.n(p),m=a(0),f=a.n(m),v=a(247),y=a(240),h=a(55),g=a(241),k=a(142),j=a(77),E=a(76),O=a(34),S=a(97),w=a(63);function T(){var e=Object(o.a)(["\n  mutation createTransaction($data: TransactionCreateInput!) {\n    createTransaction(data: $data) {\n      id\n      createdAt\n      stock {\n        name\n      }\n      supplier {\n        username\n      }\n    }\n  }\n"]);return T=function(){return e},e}var x=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"unit",numeric:!1,disablePadding:!1,colSpan:1,label:"Unit"},{id:"available",numeric:!1,disablePadding:!1,colSpan:1,label:"Available"}],C=["id","createdAt","updatedAt","__typename"],P=b()(T()),I={quantity:{type:"number",default:0},note:{type:"text",default:""},type:{type:"select",default:[{key:"CREDIT [+]",value:"CREDIT"},{key:"DEBIT [-]",value:"DEBIT"}],current:"CREDIT"}},A=Object(d.withStyles)(function(e){return Object(d.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=e.user,o=Object(l.a)(e,["classes","history","user"]),u=S.a.stockItemTable;return f.a.createElement("div",null,f.a.createElement(s.a,{container:!0,className:t.root},f.a.createElement(s.a,{item:!0,xs:12},f.a.createElement(h.a,{mutation:j.i},function(t,l){var s=l.loading;return f.a.createElement(g.a,{tableMutation:k.i,tableQuery:E.i,dataQuery:O.l,defaultState:u},function(t,l,u){var d=u.loading,p=u.data,b=(u.refetch,e.optionable&&{credit:function(e){var t=e.selected,a=e.onCredit;return f.a.createElement(v.a,{mutation:P,defaults:I,positiveHandler:function(e,r){return a&&a(e,{data:Object(c.a)({},r,{stockId:t,supplierId:n.id})})}})},options:{onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),onView:function(e){return a.push(w.a.Stock.detail({id:e}))}}});return f.a.createElement(y.a,Object.assign({},o,{loading:d||s,data:p.stocks.edges,title:"Stock Items",settings:t,count:p.stocks.totalCount,columnData:x,exclude:C},b,{mutate:function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}))})}))))})},691:function(e,t,a){"use strict";a.d(t,"a",function(){return O});var n=a(26),r=a.n(n),i=a(41),c=a(21),l=a(32),o=a(56),u=a.n(o),s=a(25),d=a(0),p=a.n(d),b=a(240),m=a(241),f=a(142),v=a(76),y=a(34),h=a(97),g=a(120),k=a(243),j=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"stock",numeric:!1,disablePadding:!1,colSpan:1,label:"Stock Name"},{id:"quantity",numeric:!1,disablePadding:!1,colSpan:1,label:"Quantity"},{id:"type",numeric:!1,disablePadding:!1,colSpan:1,label:"Transaction Type"},{id:"available",numeric:!1,disablePadding:!1,colSpan:1,label:"Available"},{id:"supplier",numeric:!1,disablePadding:!1,colSpan:1,label:"Supplier/Consumer"},{id:"note",numeric:!1,disablePadding:!1,colSpan:1,label:p.a.createElement("span",{style:{paddingLeft:"4rem",paddingRight:"4rem"}},"Note")}],E=["id","createdAt","updatedAt","__typename"],O=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=(e.history,Object(l.a)(e,["classes","history"])),n=h.a.stockTransactionTable;return p.a.createElement("div",null,p.a.createElement(u.a,{container:!0,className:t.root},p.a.createElement(u.a,{item:!0,xs:12},p.a.createElement(m.a,{tableMutation:f.k,tableQuery:v.k,dataQuery:a.query||y.n,getQueryVariables:a.getQueryVariables,defaultState:n},function(e,t,n){var l=n.loading,o=n.data,u=(n.refetch,o[Object.keys(o)[0]]);return p.a.createElement(b.a,Object.assign({},a,{loading:l,data:u.edges,title:"Stock Transactions",settings:e,count:u.totalCount,columnData:j,exclude:E,render:Object(g.b)({match:"type",alt:!0,altValue:"DEBIT",altColor:"#eee",renderValue:function(e){var t=e.key,a=e.value;if("contact"===t)return{value:Object(k.a)(a)};var n=Object(g.a)({key:t,value:a,skip:["contact"]});return Object(c.a)({},n,{value:String(a).length?n.value:"-"})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}))}))))})},742:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(24),i=a(19),c=a(18),l=a(20),o=a(0),u=a.n(o),s=a(245),d=a(686),p=a(142),b=a(76),m=a(690),f=a(691),v=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{tab:"Stock",container:u.a.createElement(m.a,Object.assign({},this.props,{optionable:this.props.me.stockPermission}))},{tab:"Transaction",container:u.a.createElement(f.a,this.props)}],t=this.props.me;return t&&t.stockPermission?u.a.createElement(d.a,{defaults:e,localStateMutation:p.h,localStateQuery:b.h}):u.a.createElement(s.default,null)}}]),t}(o.PureComponent);t.default=v}}]);
//# sourceMappingURL=7.6438f5d7.chunk.js.map