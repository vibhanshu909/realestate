(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{153:function(e,t,a){"use strict";a.r(t),a.d(t,"siteColumnData",function(){return M}),a.d(t,"siteExclude",function(){return w});var n=a(41),l=a.n(n),r=a(68),o=a(27),u=a(0),c=a.n(u),i=a(54),d=a(42),s=a.n(d),f=a(18),p=a(53),m=a(125),v=a(55),h=a(28),g=a(78),b=a(224),P=a(76),y=a(641),E=a(648),M=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"entryCount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Entries"},{id:"manager",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager"},{id:"managerSpentAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager Spent Amount (\u20b9)"},{id:"Total Cost",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Cost (\u20b9)"}],w=["id","count","total","createdAt","updatedAt","__typename"],C=Object(f.withStyles)(function(e){return Object(f.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=Object(o.a)(e,["classes","history"]);return c.a.createElement("div",null,c.a.createElement(s.a,{container:!0,className:t.root},c.a.createElement(s.a,{item:!0,xs:12},c.a.createElement(i.a,{mutation:b.f},function(e,t){return c.a.createElement(p.a,{query:g.f},function(t){var o=t.data.siteTable;return c.a.createElement(i.a,{mutation:P.k},function(t){var u=o.page,i=o.rowsPerPage;return c.a.createElement(p.a,{query:h.f,variables:{limit:i,skip:u*i}},function(u){var i=u.loading,d=u.data,s=u.refetch;return c.a.createElement(E.a,Object.assign({},n,{loading:i,data:d.sites,title:"Sites",settings:o,count:d.sites.length&&d.sites[0].count||d.sites.length,columnData:M,exclude:w,options:{onView:function(e){return a.push(v.a.Site.detail({id:e}))},onEdit:function(e){return a.push(v.a.Site.update({id:e,edit:!0}))},onDelete:function(){var a=Object(r.a)(l.a.mark(function a(n){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("calling deleteMutate function..."),a.next=3,t({variables:n});case 3:return a.next=5,e({variables:m.a.siteTable});case 5:s();case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),onAdd:function(){return a.push(v.a.Site.create())}},render:Object(y.b)({match:"managerSpentAmount"}),mutate:function(){var t=Object(r.a)(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({variables:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}))})})})}))))});t.default=C},306:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var l=n(a(644))},307:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var l=n(a(645))},308:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var l=n(a(646))},642:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=n(a(77)),o=n(a(52)),u=l.default.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),c=function(e){return l.default.createElement(o.default,e,u)};(c=(0,r.default)(c)).muiName="SvgIcon";var i=c;t.default=i},643:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=n(a(77)),o=n(a(52)),u=l.default.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),c=function(e){return l.default.createElement(o.default,e,u)};(c=(0,r.default)(c)).muiName="SvgIcon";var i=c;t.default=i},644:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var l=n(a(3)),r=n(a(6)),o=n(a(11)),u=n(a(12)),c=n(a(13)),i=n(a(14)),d=n(a(15)),s=n(a(0)),f=(n(a(2)),n(a(8))),p=(a(10),n(a(7))),m=n(a(309)),v=function(e){return{root:{display:"table",fontFamily:e.typography.fontFamily,width:"100%",borderCollapse:"collapse",borderSpacing:0}}};t.styles=v;var h=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=(0,c.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(l)))).memoizedContextValue={},a}return(0,d.default)(t,e),(0,u.default)(t,[{key:"useMemo",value:function(e){for(var t=Object.keys(e),a=0;a<t.length;a+=1){var n=t[a];if(e[n]!==this.memoizedContextValue[n]){this.memoizedContextValue=e;break}}return this.memoizedContextValue}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.component,o=e.padding,u=(0,r.default)(e,["classes","className","component","padding"]);return s.default.createElement(m.default.Provider,{value:this.useMemo({padding:o})},s.default.createElement(n,(0,l.default)({className:(0,f.default)(t.root,a)},u)))}}]),t}(s.default.Component);h.defaultProps={component:"table",padding:"default"};var g=(0,p.default)(v,{name:"MuiTable"})(h);t.default=g},645:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var l=n(a(3)),r=n(a(6)),o=n(a(0)),u=(n(a(2)),n(a(8))),c=(a(10),n(a(7))),i=n(a(177)),d={root:{display:"table-row-group"}};t.styles=d;var s={variant:"body"};function f(e){var t=e.classes,a=e.className,n=e.component,c=(0,r.default)(e,["classes","className","component"]);return o.default.createElement(i.default.Provider,{value:s},o.default.createElement(n,(0,l.default)({className:(0,u.default)(t.root,a)},c)))}f.defaultProps={component:"tbody"};var p=(0,c.default)(d,{name:"MuiTableBody"})(f);t.default=p},646:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var l=n(a(3)),r=n(a(6)),o=n(a(11)),u=n(a(12)),c=n(a(13)),i=n(a(14)),d=n(a(15)),s=n(a(0)),f=(n(a(2)),a(10),n(a(7))),p=n(a(176)),m=n(a(70)),v=n(a(127)),h=n(a(225)),g=n(a(128)),b=n(a(36)),P=n(a(647)),y=function(e){return{root:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),"&:last-child":{padding:0}},toolbar:{height:56,minHeight:56,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:16},selectIcon:{top:1},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}};t.styles=y;var E=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.count,a=e.onChangePage,n=e.page,l=e.rowsPerPage,r=Math.max(0,Math.ceil(t/l)-1);n>r&&a(null,r)}},{key:"render",value:function(){var e,t=this.props,a=t.ActionsComponent,n=t.backIconButtonProps,o=t.classes,u=t.colSpan,c=t.component,i=t.count,d=t.labelDisplayedRows,f=t.labelRowsPerPage,P=t.nextIconButtonProps,y=t.onChangePage,E=t.onChangeRowsPerPage,M=t.page,w=t.rowsPerPage,C=t.rowsPerPageOptions,k=t.SelectProps,_=void 0===k?{}:k,S=(0,r.default)(t,["ActionsComponent","backIconButtonProps","classes","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]);c!==h.default&&"td"!==c||(e=u||1e3);var O=_.native?"option":m.default;return s.default.createElement(c,(0,l.default)({className:o.root,colSpan:e},S),s.default.createElement(g.default,{className:o.toolbar},s.default.createElement("div",{className:o.spacer}),C.length>1&&s.default.createElement(b.default,{color:"inherit",variant:"caption",className:o.caption},f),C.length>1&&s.default.createElement(v.default,(0,l.default)({classes:{root:o.selectRoot,select:o.select,icon:o.selectIcon},input:s.default.createElement(p.default,{className:o.input}),value:w,onChange:E},_),C.map(function(e){return s.default.createElement(O,{className:o.menuItem,key:e,value:e},e)})),s.default.createElement(b.default,{color:"inherit",variant:"caption",className:o.caption},d({from:0===i?0:M*w+1,to:Math.min(i,(M+1)*w),count:i,page:M})),s.default.createElement(a,{className:o.actions,backIconButtonProps:n,count:i,nextIconButtonProps:P,onChangePage:y,page:M,rowsPerPage:w})))}}]),t}(s.default.Component);E.defaultProps={ActionsComponent:P.default,component:h.default,labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," of ").concat(n)},labelRowsPerPage:"Rows per page:",rowsPerPageOptions:[10,25,50,100]};var M=(0,f.default)(y,{name:"MuiTablePagination"})(E);t.default=M},647:function(e,t,a){"use strict";var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(3)),r=n(a(6)),o=n(a(11)),u=n(a(12)),c=n(a(13)),i=n(a(14)),d=n(a(15)),s=n(a(0)),f=(n(a(2)),n(a(642))),p=n(a(643)),m=n(a(126)),v=n(a(69)),h=s.default.createElement(p.default,null),g=s.default.createElement(f.default,null),b=s.default.createElement(f.default,null),P=s.default.createElement(p.default,null),y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=(0,c.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(l)))).handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.backIconButtonProps,a=e.count,n=e.nextIconButtonProps,o=(e.onChangePage,e.page),u=e.rowsPerPage,c=e.theme,i=(0,r.default)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage","theme"]);return s.default.createElement("div",i,s.default.createElement(v.default,(0,l.default)({onClick:this.handleBackButtonClick,disabled:0===o,color:"inherit"},t),"rtl"===c.direction?h:g),s.default.createElement(v.default,(0,l.default)({onClick:this.handleNextButtonClick,disabled:o>=Math.ceil(a/u)-1,color:"inherit"},n),"rtl"===c.direction?b:P))}}]),t}(s.default.Component),E=(0,m.default)()(y);t.default=E},651:function(e,t,a){"use strict";var n=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(51)).default)(l.default.createElement(l.default.Fragment,null,l.default.createElement("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}),l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"AttachMoney");t.default=r},653:function(e,t,a){"use strict";var n=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(51)).default)(l.default.createElement(l.default.Fragment,null,l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),l.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})),"Visibility");t.default=r},654:function(e,t,a){"use strict";var n=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(51)).default)(l.default.createElement(l.default.Fragment,null,l.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Delete");t.default=r},655:function(e,t,a){"use strict";var n=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(51)).default)(l.default.createElement(l.default.Fragment,null,l.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Edit");t.default=r},656:function(e,t,a){"use strict";var n=a(47);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(51)).default)(l.default.createElement(l.default.Fragment,null,l.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),l.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Add");t.default=r}}]);
//# sourceMappingURL=7.bbecaf65.chunk.js.map