(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{125:function(t,e,n){"use strict";n.d(e,"c",function(){return d}),n.d(e,"a",function(){return p}),n.d(e,"b",function(){return f});var a=n(41),r=n.n(a),i=n(97),o=n(21),c=n(68),u=n(5),l=n(4);function s(){var t=Object(u.a)(["\n  type SiteEntryOutput {\n    quantity: Int!\n    cost: Int!\n  }\n  input SiteEntryInput {\n    quantity: Int!\n    cost: Int!\n  }\n"]);return s=function(){return t},t}var d=Object(l.a)(s()),m=function(t){var e={defaults:{},resolvers:{}};return t.forEach(function(t){var n,a=(n=t).charAt(0).toUpperCase()+n.slice(1);e.defaults[t]={__typename:a,order:"desc",orderBy:"id",selected:[],page:0,rowsPerPage:10},e.resolvers[t]=function(){var e=Object(c.a)(r.a.mark(function e(n,c,u){var l,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=u.cache,s=Object(i.a)({},t,Object(o.a)({__typename:a},c)),e.next=4,l.writeData({data:s});case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()}),e}(["entryTable","entryTotalTable","siteTable","creditEntryTable","userEntryTable","propertyTable","stockItemTable","stockSupplierTable","stockItemTransactionTable","stockTransactionTable","supplierTransactionTable"]),p=Object(o.a)({networkStatus:{__typename:"NetworkStatus",isConnected:!0},localLogin:{__typename:"LocalLogin",token:window.localStorage.getItem("userToken")},enhancedTabs:{__typename:"EnhancedTabs",value:0},stockEnhancedTabs:{__typename:"StockEnhancedTabs",value:0}},m.defaults),f={Mutation:Object(o.a)({updateNetworkStatus:function(t,e,n){var a={networkStatus:{__typename:"NetworkStatus",isConnected:e.isConnected}};return n.cache.writeData({data:a}),null},localLogin:function(){var t=Object(c.a)(r.a.mark(function t(e,n,a){var i,o,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.token,o=a.cache,c={localLogin:{__typename:"LocalLogin",token:i}},t.next=5,o.writeData({data:c});case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}(),enhancedTabs:function(){var t=Object(c.a)(r.a.mark(function t(e,n,a){var i,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.cache,c={enhancedTabs:Object(o.a)({__typename:"EnhancedTabs"},n)},t.next=4,i.writeData({data:c});case 4:return t.abrupt("return",null);case 5:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}(),stockEnhancedTabs:function(){var t=Object(c.a)(r.a.mark(function t(e,n,a){var i,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.cache,c={stockEnhancedTabs:Object(o.a)({__typename:"StockEnhancedTabs"},n)},t.next=4,i.writeData({data:c});case 4:return t.abrupt("return",null);case 5:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}()},m.resolvers)}},129:function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).filter(function(t){return!e.includes(t)}).reduce(function(e,n){return e[n]=t[n],e},{})}},162:function(t,e,n){"use strict";n.d(e,"a",function(){return E});var a=n(16),r=n(26),i=n(22),o=n(17),c=n(23),u=n(27),l=n(0),s=n.n(l),d=n(69),m=n.n(d),p=n(102),f=n.n(p),b=n(70),h=n.n(b),v=n(303),g=n.n(v),O=n(160),y=n.n(O),j=n(18),E=Object(j.withStyles)(function(t){return Object(j.createStyles)({icon:{marginRight:10}})})(function(t){var e=t.classes,n=t.icon,a=t.content,r=t.tooltip,i=Object(u.a)(t,["classes","icon","content","tooltip"]),o=s.a.cloneElement(s.a.createElement(s.a.Fragment,null,s.a.cloneElement(n,{className:e.icon})," ",a));return s.a.createElement(h.a,i,r?s.a.createElement(y.a,{title:r},o):o)}),S=function(t){function e(){var t,n;Object(a.a)(this,e);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(i.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(c)))).state={anchorEl:null},n.handleClick=function(t){n.setState({anchorEl:t.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.state.anchorEl,n=Boolean(e),a=this.props.options;return s.a.createElement("div",null,s.a.createElement(m.a,{"aria-label":"More","aria-owns":n?"long-menu":void 0,"aria-haspopup":"true",title:"More",onClick:this.handleClick},s.a.createElement(g.a,null)),s.a.createElement(f.a,{id:"long-menu",anchorEl:e,open:n,onClose:this.handleClose,PaperProps:{style:{width:200}}},a.map(function(e,n){return s.a.createElement(s.a.Fragment,{key:n},e({onClick:t.handleClose}))})))}}]),e}(s.a.Component);e.b=S},224:function(t,e,n){"use strict";n.d(e,"d",function(){return l}),n.d(e,"c",function(){return d}),n.d(e,"f",function(){return m}),n.d(e,"m",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"h",function(){return h}),n.d(e,"i",function(){return v}),n.d(e,"l",function(){return g}),n.d(e,"j",function(){return O}),n.d(e,"k",function(){return y}),n.d(e,"b",function(){return j}),n.d(e,"g",function(){return E});var a=n(5),r=n(4);function i(){var t=Object(a.a)(["\n  mutation stockEnhancedTabs($value: Int!) {\n    stockEnhancedTabs(value: $value) @client {\n      value\n    }\n  }\n"]);return i=function(){return t},t}function o(){var t=Object(a.a)(["\n  mutation enhancedTabs($value: Int!) {\n    enhancedTabs(value: $value) @client {\n      value\n    }\n  }\n"]);return o=function(){return t},t}function c(){var t=Object(a.a)(["\n    mutation "," (\n        $order: String,\n        $orderBy: String,\n        $selected: [String],\n        $page: Int,\n        $rowsPerPage: Int\n    )\n    {\n        "," (\n            order: $order,\n            orderBy: $orderBy,\n            selected: $selected,\n            page: $page,\n            rowsPerPage: $rowsPerPage) @client {\n                order,\n                orderBy,\n                selected,\n                page,\n                rowsPerPage,\n            }\n    }\n"]);return c=function(){return t},t}function u(){var t=Object(a.a)(["\n  mutation localLogin($token: String!) {\n    localLogin(token: $token) @client {\n      token\n    }\n  }\n"]);return u=function(){return t},t}var l=Object(r.a)(u());function s(t){return Object(r.a)(c(),t,t)}var d=s("entryTable"),m=s("siteTable"),p=s("userEntryTable"),f=s("creditEntryTable"),b=s("propertyTable"),h=s("stockItemTable"),v=s("stockItemTransactionTable"),g=s("supplierTransactionTable"),O=s("stockSupplierTable"),y=s("stockTransactionTable"),j=Object(r.a)(o()),E=Object(r.a)(i())},229:function(t,e,n){"use strict";var a=n(16),r=n(26),i=n(22),o=n(17),c=n(23),u=n(0),l=n.n(u),s=n(18),d=n(54),m=n(35),p=n.n(m),f=n(88),b=n.n(f),h=n(39),v=n(106),g=n(82),O=n.n(g),y=n(86),j=n.n(y),E=n(84),S=n.n(E),k=n(85),$=n.n(k),w=n(83),A=n.n(w),I=n(76),C=n(79),T=n(129),q=n(87),x={currentPassword:{type:"password",default:"",label:"Current password"},newPassword:{type:"password",default:"",label:"New password"},confirmNewPassword:{type:"password",default:"",label:"Confirm new password",validate:function(t,e){return t!==e.newPassword?"Password does not match":null}}};e.a=Object(s.withStyles)(q.b)(function(t){function e(){return Object(a.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.state.open,n=this.props,a=n.classes,r=n.history,i=n.negativeHandler,o=void 0===i?function(){return t.handleClose()}:i,c=n.positiveHandler,u=void 0===c?function(){return null}:c,s=n.postMutation,m=void 0===s?function(){return null}:s,f=n.reset,g=void 0!==f&&f,y=n.children,E="Change password";return l.a.createElement(d.a,{mutation:I.y},function(n,i){var c=i.loading,s=i.error;i.data;return l.a.createElement(l.a.Fragment,null,l.a.cloneElement(y,{onClick:t.handleOpen}),e?l.a.createElement(O.a,{fullScreen:!1,open:e,onClose:o,"aria-labelledby":E,title:E},l.a.createElement(h.Form,{onSubmit:function(e){u(n,e).then(function(e){m?(m(e),t.handleClose()):r.goBack()})}},l.a.createElement(A.a,{id:E},E),l.a.createElement(S.a,null,l.a.createElement($.a,null,"Change password amount to this user."),Object(C.b)(g?Object(T.a)(x,["currentPassword"]):x)),l.a.createElement(j.a,null,c?l.a.createElement(b.a,{className:a.progress}):null,s?l.a.createElement(v.b,{error:!0},s.message):null,l.a.createElement(p.a,{size:"large",color:"secondary",onClick:o},"Cancel"),l.a.createElement(p.a,{size:"large",color:"primary",type:"submit",disabled:c},"Confirm")))):null)})}}]),e}(q.a))},278:function(t,e,n){"use strict";var a=n(0),r=n.n(a),i=n(18),o=n(100),c=n.n(o);e.a=Object(i.withStyles)({root:{flexGrow:1}})(function(t){var e=t.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(c.a,null))})},28:function(t,e,n){"use strict";n.d(e,"s",function(){return T}),n.d(e,"r",function(){return q}),n.d(e,"u",function(){return x}),n.d(e,"t",function(){return N}),n.d(e,"v",function(){return P}),n.d(e,"f",function(){return D}),n.d(e,"e",function(){return _}),n.d(e,"g",function(){return L}),n.d(e,"h",function(){return U}),n.d(e,"b",function(){return F}),n.d(e,"c",function(){return R}),n.d(e,"d",function(){return J}),n.d(e,"a",function(){return H}),n.d(e,"j",function(){return M}),n.d(e,"i",function(){return W}),n.d(e,"n",function(){return z}),n.d(e,"m",function(){return V}),n.d(e,"o",function(){return G}),n.d(e,"l",function(){return Q}),n.d(e,"k",function(){return K}),n.d(e,"q",function(){return X}),n.d(e,"p",function(){return Y});var a=n(5),r=n(4);function i(){var t=Object(a.a)(["\n  query stockTransactions($limit: Int!, $skip: Int) {\n    transactions(limit: $limit, skip: $skip) {\n      totalCount\n      edges {\n        id\n        stock {\n          name\n        }\n        type\n        quantity\n        supplier {\n          name\n        }\n        createdAt\n      }\n    }\n  }\n"]);return i=function(){return t},t}function o(){var t=Object(a.a)(["\n  query supplierTransaction($id: ID!, $limit: Int!, $skip: Int) {\n    supplier(id: $id) {\n      id\n      transactions(limit: $limit, skip: $skip) {\n        totalCount\n        edges {\n          id\n          createdAt\n          quantity\n          type\n          stock {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return o=function(){return t},t}function c(){var t=Object(a.a)(["\n  query stockItemTransaction($id: ID!) {\n    stockItemTransaction(id: $id) {\n      id\n      quantity\n      type\n      supplier {\n        id\n        name\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]);return c=function(){return t},t}function u(){var t=Object(a.a)(["\n  query stockItemTransactions($id: ID!, $limit: Int!, $skip: Int) {\n    stock(id: $id) {\n      id\n      transactions(limit: $limit, skip: $skip) {\n        totalCount\n        edges {\n          id\n          createdAt\n          quantity\n          type\n          supplier {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return u=function(){return t},t}function l(){var t=Object(a.a)(["\n  query stockSuppliers {\n    stockSuppliers {\n      id\n      name\n    }\n  }\n"]);return l=function(){return t},t}function s(){var t=Object(a.a)(["\n  query stockSupplier($id: ID!) {\n    supplier(id: $id) {\n      id\n      name\n      contact\n      createdAt\n      updatedAt\n    }\n  }\n"]);return s=function(){return t},t}function d(){var t=Object(a.a)(["\n  query stockSuppliers($limit: Int!, $skip: Int) {\n    suppliers(limit: $limit, skip: $skip) {\n      totalCount\n      edges {\n        id\n        name\n        contact\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]);return d=function(){return t},t}function m(){var t=Object(a.a)(["\n  query stockItem($id: ID!) {\n    stock(id: $id) {\n      id\n      name\n      unit\n      available\n      createdAt\n      updatedAt\n    }\n  }\n"]);return m=function(){return t},t}function p(){var t=Object(a.a)(["\n  query stockItems($limit: Int!, $skip: Int) {\n    stocks(limit: $limit, skip: $skip) {\n      totalCount\n      edges {\n        id\n        name\n        unit\n        available\n        createdAt\n        updatedAt\n      }\n    }\n  }\n"]);return p=function(){return t},t}function f(){var t=Object(a.a)(["\n  query activity($id: String!) {\n    activity(id: $id) {\n      id\n      user {\n        username\n      }\n      activity\n      createdAt\n      updatedAt\n      count\n    }\n  }\n"]);return f=function(){return t},t}function b(){var t=Object(a.a)(["\n  query activities($limit: Int, $skip: Int) {\n    activities(limit: $limit, skip: $skip) {\n      id\n      user {\n        username\n      }\n      activity\n      createdAt\n      updatedAt\n      count\n    }\n  }\n"]);return b=function(){return t},t}function h(){var t=Object(a.a)(["\n  query propertyCreditHistory($id: String!, $limit: Int, $skip: Int) {\n    propertyCreditHistory(id: $id, limit: $limit, skip: $skip) {\n      amount\n      createdAt\n      count\n    }\n  }\n"]);return h=function(){return t},t}function v(){var t=Object(a.a)(["\n  query property($id: String!) {\n    property(id: $id) {\n      id\n      name\n      location\n      price\n      buyer\n      buyerNumber\n      totalReceivedAmount\n      balance\n      nextDueDate\n      note\n      createdAt\n      updatedAt\n    }\n  }\n"]);return v=function(){return t},t}function g(){var t=Object(a.a)(["\n  query properties($limit: Int!, $skip: Int) {\n    properties(limit: $limit, skip: $skip) {\n      id\n      name\n      location\n      price\n      buyer\n      buyerNumber\n      totalReceivedAmount\n      balance\n      nextDueDate\n      note\n      count\n      createdAt\n      updatedAt\n    }\n  }\n"]);return g=function(){return t},t}function O(){var t=Object(a.a)(["\n    query siteEntry($id: String!){\n        siteEntry(id: $id){\n            id,\n            createdAt,\n            updatedAt,\n            mistri ",",\n            labour ",",\n            eit ",",\n            morang ",",\n            baalu ",",\n            githi ",",\n            cement ",",\n            saria ",",\n            dust ",",\n            other ",",\n            other2 ",",\n            managerSpentAmount,\n            total\n        }\n    }\n"]);return O=function(){return t},t}function y(){var t=Object(a.a)(["\n    query siteEntries($siteId: String!, $limit: Int!, $skip: Int){\n        siteEntries(siteId: $siteId, limit: $limit, skip: $skip){\n            id,\n            createdAt,\n            updatedAt,\n            mistri ",",\n            labour ",",\n            eit ",",\n            morang ",",\n            baalu ",",\n            githi ",",\n            cement ",",\n            saria ",",\n            dust ",",\n            other ",",\n            other2 ",",\n            managerSpentAmount,\n            total\n        }\n    }\n"]);return y=function(){return t},t}function j(){var t=Object(a.a)(["\n  {\n    quantity\n    cost\n    paid\n  }\n"]);return j=function(){return t},t}function E(){var t=Object(a.a)(["\n  query site($id: String!) {\n    site(id: $id) {\n        id,\n        name,\n        location,\n        cost\n        entryCount\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        total{\n            mistri ","\n            labour ","\n            eit ","\n            morang ","\n            baalu ","\n            githi ","\n            cement ","\n            saria ","\n            dust ","\n            other\n            other2\n        },\n        createdAt,\n        updatedAt,\n    }\n  }\n"]);return E=function(){return t},t}function S(){var t=Object(a.a)(["\n  query sites($limit: Int, $skip: Int) {\n    sites(limit: $limit, skip: $skip) {\n        id,\n        name,\n        location,\n        entryCount,\n        count\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        cost\n        total{\n            mistri ","\n            labour ","\n            eit ","\n            morang ","\n            baalu ","\n            githi ","\n            cement ","\n            saria ","\n            dust ","\n            other\n            other2\n        }\n        createdAt,\n        updatedAt,\n    }\n  }\n"]);return S=function(){return t},t}function k(){var t=Object(a.a)(["\n  {\n    quantity\n    cost\n  }\n"]);return k=function(){return t},t}function $(){var t=Object(a.a)(["\n  query usersMetric {\n    usersMetric {\n      count\n      receivedAmount\n      spentAmount\n      balaceAmount\n    }\n  }\n"]);return $=function(){return t},t}function w(){var t=Object(a.a)(["\n  query users($limit: Int, $skip: Int) {\n    users(limit: $limit, skip: $skip) {\n      id\n      username\n    }\n  }\n"]);return w=function(){return t},t}function A(){var t=Object(a.a)(["\n  query userCreditHistory($id: String!, $limit: Int, $skip: Int) {\n    userCreditHistory(id: $id, limit: $limit, skip: $skip) {\n      amount\n      createdAt\n      count\n    }\n  }\n"]);return A=function(){return t},t}function I(){var t=Object(a.a)(["\n  query user($id: String!) {\n    user(id: $id) {\n      id\n      username\n      contact\n      siteCount\n      totalSitesCost\n      totalReceivedAmount\n      spent\n      balance\n      createdAt\n      updatedAt\n    }\n  }\n"]);return I=function(){return t},t}function C(){var t=Object(a.a)(["\n  query users($limit: Int, $skip: Int) {\n    users(limit: $limit, skip: $skip) {\n      id\n      username\n      contact\n      siteCount\n      totalSitesCost\n      totalReceivedAmount\n      spent\n      balance\n      createdAt\n      updatedAt\n      count\n    }\n  }\n"]);return C=function(){return t},t}var T=Object(r.a)(C()),q=Object(r.a)(I()),x=Object(r.a)(A()),N=Object(r.a)(w()),P=(Object(r.a)($()),Object(r.a)(k())),D=Object(r.a)(S(),P,P,P,P,P,P,P,P,P),_=Object(r.a)(E(),P,P,P,P,P,P,P,P,P),B=Object(r.a)(j()),L=Object(r.a)(y(),B,B,B,B,B,B,B,B,B,B,B),U=Object(r.a)(O(),B,B,B,B,B,B,B,B,B,B,B),F=Object(r.a)(g()),R=Object(r.a)(v()),J=Object(r.a)(h()),H=Object(r.a)(b()),M=(Object(r.a)(f()),Object(r.a)(p())),W=Object(r.a)(m()),z=Object(r.a)(d()),V=Object(r.a)(s()),G=Object(r.a)(l()),Q=Object(r.a)(u()),K=Object(r.a)(c()),X=Object(r.a)(o()),Y=Object(r.a)(i())},29:function(t,e,n){"use strict";var a=n(16),r=n(26),i=n(22),o=n(17),c=n(23),u=n(0),l=n.n(u),s=n(53),d=n(78),m=n(712),p=n(41),f=n.n(p),b=n(68),h=n(21),v=n(27),g=n(304),O=n.n(g),y=n(305),j=n.n(y),E=n(18),S=n(132),k=n.n(S),$=n(128),w=n.n($),A=n(36),I=n.n(A),C=n(35),T=n.n(C),q=n(696),x=n(163),N=n.n(x),P=n(102),D=n.n(P),_=n(54),B=n(88),L=n.n(B),U=n(39),F=n(82),R=n.n(F),J=n(86),H=n.n(J),M=n(84),W=n.n(M),z=n(85),V=n.n(z),G=n(83),Q=n.n(G),K=n(131),X=n.n(K),Y=n(76),Z=n(28),tt=n(79),et=n(87),nt=Object(E.withStyles)(et.b)(function(t){function e(){return Object(a.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.state.open,n=this.props,a=n.classes,r=n.history,i=n.user,o=n.negativeHandler,c=void 0===o?function(e){return t.handleClose()}:o,u=n.positiveHandler,d=n.postMutation,m=n.children,p="Change contact";return l.a.createElement("div",null,l.a.createElement(s.a,{query:Z.r,variables:{id:i.id}},function(n){var i={contact:{type:"number",default:n.data.user.contact,startAdornment:l.a.createElement(X.a,{position:"start"},"+91"),validate:function(t){return 10!==String(t).length?"Invalid phone number":null}}};return l.a.createElement(_.a,{mutation:Y.x},function(n,o){var s=o.loading;o.error,o.data;return l.a.createElement(l.a.Fragment,null,l.a.cloneElement(m,{onClick:t.handleOpen}),e?l.a.createElement(R.a,{fullScreen:!1,open:e,onClose:c,"aria-labelledby":p,title:p},l.a.createElement(U.Form,{onSubmit:function(e){u(n,e).then(function(e){d?(d(e),t.handleClose()):r.goBack()})}},l.a.createElement(Q.a,{id:p},p),l.a.createElement(W.a,null,l.a.createElement(V.a,null,"Change contact amount to this user."),Object(tt.b)(i)),l.a.createElement(H.a,null,s?l.a.createElement(L.a,{className:a.progress}):null,l.a.createElement(T.a,{size:"large",color:"secondary",onClick:c},"Cancel"),l.a.createElement(T.a,{size:"large",color:"primary",type:"submit",disabled:s},"Confirm")))):null)})}))}}]),e}(et.a)),at=n(229),rt=n(230),it=n.n(rt),ot=n(97),ct=n(161),ut=n.n(ct),lt=n(69),st=n.n(lt),dt=n(302),mt=n.n(dt),pt=n(8),ft=n.n(pt),bt=n(123),ht=n.n(bt),vt=n(66),gt=n.n(vt),Ot=n(105),yt=n.n(Ot),jt=n(75),Et=n.n(jt),St=n(299),kt=n.n(St),$t=n(300),wt=n.n($t),At=n(301),It=n.n(At),Ct=n(55),Tt=Object(E.withStyles)(function(t){return Object(E.createStyles)({root:{width:"100%",maxWidth:360,backgroundColor:t.palette.background.paper}})})(function(t){var e=t.classes,n=t.title,a=void 0===n?"":n,r=t.history;return l.a.createElement("div",{className:e.root},l.a.createElement(ht.a,{component:"nav"},l.a.createElement(gt.a,null,l.a.createElement(Et.a,{primary:a})),l.a.createElement(gt.a,{button:!0,onClick:function(t){return r.push(Ct.a.index())}},l.a.createElement(yt.a,null,l.a.createElement(kt.a,null)),l.a.createElement(Et.a,{primary:"Dashboard"})),l.a.createElement(gt.a,{button:!0,onClick:function(t){return r.push(Ct.a.Stock.index())}},l.a.createElement(yt.a,null,l.a.createElement(wt.a,null)),l.a.createElement(Et.a,{primary:"Stocks"})),l.a.createElement(gt.a,{button:!0,onClick:function(t){return r.push(Ct.a.Activity.index())}},l.a.createElement(yt.a,null,l.a.createElement(It.a,null)),l.a.createElement(Et.a,{primary:"Activities"}))))}),qt=Object(E.withStyles)(function(t){return Object(E.createStyles)({list:{width:250},fullList:{width:"auto"},menuButton:{},hide:{display:"none"}})})(function(t){function e(){var t,n;Object(a.a)(this,e);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(i.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(c)))).state={top:!1,left:!1,bottom:!1,right:!1},n.toggleDrawer=function(t,e){return function(){console.log("state toggled",t,e),n.setState(Object(h.a)({},n.state,Object(ot.a)({},t,e)))}},n}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props.classes;console.log(this.state);var e=l.a.createElement("div",{className:t.list},l.a.createElement(Tt,this.props));return l.a.createElement(l.a.Fragment,null,l.a.createElement(st.a,{color:"inherit","aria-label":"Open drawer",title:"Open drawer",onClick:this.toggleDrawer("left",!0),className:ft()(t.menuButton,this.state.left&&t.hide)},l.a.createElement(mt.a,null)),l.a.createElement(ut.a,{open:this.state.left,onClose:this.toggleDrawer("left",!1)},l.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("left",!1),onKeyDown:this.toggleDrawer("left",!1)},e)))}}]),e}(l.a.Component)),xt=n(129),Nt=n(162),Pt=function(t){function e(){var t,n;Object(a.a)(this,e);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(i.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(c)))).state={anchorEl:null,dialog:!1},n.handleClick=function(t){n.setState({anchorEl:t.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.classes,a=e.client,r=e.pageTitle,i=void 0===r?"Real Estate":r,o=Object(v.a)(e,["classes","client","pageTitle"]),c=this.props.user,u=this.state.anchorEl;return l.a.createElement("header",null,l.a.createElement(k.a,null,l.a.createElement(w.a,null,c&&c.isAdmin()&&l.a.createElement(qt,Object.assign({},this.props,{title:i||"Real Estate"})),l.a.createElement(I.a,Object.assign({variant:"title",color:"inherit",className:n.flex,component:q.a},{to:"/"}),i),l.a.createElement(N.a,{className:n.orangeAvatar},l.a.createElement(T.a,{color:"primary","aria-owns":u?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},c&&c.username[0]||"-")),l.a.createElement(D.a,{id:"simple-menu",anchorEl:u,open:Boolean(u),onClose:this.handleClose},l.a.createElement(nt,Object.assign({},o,{positiveHandler:function(t,e){return t({variables:Object(h.a)({id:c.id},e)})}}),l.a.createElement(Nt.a,{icon:l.a.createElement(O.a,null),content:"Change Contact"})),l.a.createElement(at.a,Object.assign({},o,{positiveHandler:function(t,e){return t({variables:{id:c.id,data:Object(xt.a)(e,["confirmNewPassword"])}})}}),l.a.createElement(Nt.a,{icon:l.a.createElement(it.a,null),content:"Change password"})),l.a.createElement(Nt.a,Object.assign({onClick:function(){var e=Object(b.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.handleClose(),e.next=3,window.localStorage.clear();case 3:if(!("serviceWorker"in navigator)){e.next=8;break}return e.next=6,caches.keys();case 6:e.sent.forEach(function(t){caches.delete(t)});case 8:a.resetStore(),window.location.href="/";case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{icon:l.a.createElement(j.a,null),content:"Logout"}))))))}}]),e}(u.PureComponent),Dt=Object(E.withStyles)(function(t){return Object(E.createStyles)({root:{flexGrow:1},flex:{flex:1},orangeAvatar:{margin:10,backgroundColor:"#fff"},menuButton:{marginLeft:-12,marginRight:20}})})(Pt),_t=function(t){return l.a.createElement("div",{className:"black bg-light-gray min-vh-100 mt5 pt2"},t.children)},Bt=n(42),Lt=n.n(Bt),Ut=function(){return l.a.createElement(Lt.a,{container:!0,alignContent:"center",alignItems:"center",justify:"center",className:"silver bg-dark-gray pv4"},l.a.createElement(Lt.a,{item:!0},l.a.createElement(I.a,{color:"inherit"},"\xa9 2018 Codemitter Technology Pvt. Ltd.")))},Ft=function(t){var e=t.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(e))},Rt=function(t){function e(){return Object(a.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return l.a.createElement(s.a,{query:d.d},function(e){var n=e.client,a=e.data,r=null;return a.localLogin&&a.localLogin.token&&((r=Ft(a.localLogin.token)).isAdmin=function(){return 1===Number(r.role)},r.isManager=function(){return 0===Number(r.role)}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Dt,Object.assign({},t.props,{client:n,user:r})),l.a.createElement(_t,null,t.props.children),l.a.createElement(Ut,null))})}}]),e}(u.Component);e.a=function(t){return function(e){function n(){var t,e;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(e=Object(i.a)(this,(t=Object(o.a)(n)).call.apply(t,[this].concat(c)))).state={component:null},e}return Object(c.a)(n,e),Object(r.a)(n,[{key:"componentWillMount",value:function(){var e=this;t().then(function(t){e.setState({component:t.default})})}},{key:"render",value:function(){var t=this,e=this.props.skipLayout,n=this.state.component,a=l.a.createElement(s.a,{query:d.d},function(e){var a=e.loading,r=e.error,i=e.data;if(a)return l.a.createElement("span",null,"loading...");if(r)return l.a.createElement("span",null,"Error Occured! Try Logging In again.");if(i.localLogin&&i.localLogin.token){var o=Ft(i.localLogin.token);return l.a.createElement(n,Object.assign({},t.props,{user:o}))}return l.a.createElement(m.a,{to:Ct.a.login()})});return n?e?a:l.a.createElement(Rt,this.props,a):null}}]),n}(u.PureComponent)}},370:function(t,e,n){t.exports=n(636)},53:function(t,e,n){"use strict";var a=n(27),r=n(0),i=n.n(r),o=n(104),c=n(100),u=n.n(c);e.a=function(t){var e=t.children,n=Object(a.a)(t,["children"]);return i.a.createElement(o.Query,n,function(t){var n=t.loading,a=t.error,r=t.data;return r&&(r.length||Object.keys(r).length>0)?e(t):n?i.a.createElement(u.a,null):a?"Error: ".concat(a):i.a.createElement("span",null,"404!")})}},54:function(t,e,n){"use strict";var a=n(21),r=n(27),i=n(0),o=n.n(i),c=n(104);e.a=function(t){var e=t.children,n=Object(r.a)(t,["children"]);return o.a.createElement(c.Mutation,n,function(t,n){return e(t,Object(a.a)({},n,{error:{message:n.error&&n.error.message.replace("GraphQL error: ","")}}))})}},55:function(t,e,n){"use strict";var a=n(16),r=n(26),i=n(22),o=n(17),c=n(23),u=n(21),l=n(0),s=n.n(l),d=n(716),m=n(715),p=n(29),f=n(712),b=n(79),h=n(54),v=n(53),g=n(76),O=n(224),y=n(78),j=function(t){function e(){return Object(a.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement(v.a,{query:y.d},function(e){var n=e.data;return n.localLogin&&n.localLogin.token?s.a.createElement(f.a,{to:F.root()}):s.a.createElement(h.a,{mutation:O.d},function(e){return s.a.createElement(b.a,Object.assign({},t.props,{defaults:{username:{type:"text",default:"",required:!0},password:{type:"password",default:"",required:!0}},submitText:"Login",mutation:g.p,postMutation:function(t){var n=t.data.login.token;window.localStorage.setItem("userToken",n),e({variables:{token:n}}).then(function(t){t.data})},title:"Login"}))})})}}]),e}(l.PureComponent);n.d(e,"a",function(){return F});var E=Object(p.a)(function(){return n.e(3).then(n.bind(null,697))}),S=Object(p.a)(function(){return n.e(4).then(n.bind(null,698))}),k=Object(p.a)(function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,170))}),$=Object(p.a)(function(){return n.e(6).then(n.bind(null,699))}),w=Object(p.a)(function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,153))}),A=Object(p.a)(function(){return n.e(8).then(n.bind(null,700))}),I=Object(p.a)(function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,701))}),C=Object(p.a)(function(){return n.e(10).then(n.bind(null,702))}),T=Object(p.a)(function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,174))}),q=Object(p.a)(function(){return n.e(12).then(n.bind(null,703))}),x=Object(p.a)(function(){return Promise.all([n.e(25),n.e(13)]).then(n.bind(null,704))}),N=Object(p.a)(function(){return Promise.all([n.e(1),n.e(0),n.e(14)]).then(n.bind(null,714))}),P=(Object(p.a)(function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,171))}),Object(p.a)(function(){return n.e(16).then(n.bind(null,705))})),D=Object(p.a)(function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,706))}),_=(Object(p.a)(function(){return n.e(18).then(n.bind(null,707))}),Object(p.a)(function(){return n.e(19).then(n.bind(null,708))})),B=Object(p.a)(function(){return n.e(20).then(n.bind(null,709))}),L=Object(p.a)(function(){return Promise.all([n.e(0),n.e(21)]).then(n.bind(null,710))});function U(t){return{index:function(){return"/".concat(t)},create:function(){return"/".concat(t,"/create")},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:":id?"},n=e.id,a=e.edit;return"/".concat(t).concat(a?"/edit":void 0===a?"/:edit":"","/").concat(n)},detail:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,n=void 0===e?":id":e;return"/".concat(t,"/detail/").concat(n)}}}var F={root:function(){return"/"},index:function(){return"/"},home:function(){return"/"},login:function(){return"/login"},Site:Object(u.a)({},U("site")),SiteEntry:{create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{siteId:":siteId",id:":id?"},e=t.siteId,n=t.edit,a=t.id;return"/siteEntry/create/".concat(e).concat(n?"/edit":void 0===n?"/:edit?":"").concat(a?"/"+a:void 0===a?"/:id?":"")}},User:Object(u.a)({},U("user")),Property:Object(u.a)({},U("property")),Activity:Object(u.a)({},U("activity")),Stock:Object(u.a)({},U("stock")),StockSupplier:Object(u.a)({},U("stockSupplier")),StockTransaction:Object(u.a)({},U("stockTransaction"))},R=function(t){function e(){return Object(a.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return s.a.createElement(d.a,this.props,s.a.createElement(m.a,Object.assign({exact:!0,path:F.root(),component:S},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.login(),component:j},this.props)),s.a.createElement(m.a,{path:F.Site.index()},s.a.createElement(d.a,null,s.a.createElement(m.a,Object.assign({exact:!0,path:F.Site.detail(),component:I},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.Site.create(),component:A},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.Site.update(),component:A},this.props)),s.a.createElement(m.a,Object.assign({component:w},this.props)))),s.a.createElement(m.a,Object.assign({exact:!0,path:F.SiteEntry.create(),component:C},this.props)),s.a.createElement(m.a,{path:F.User.index()},s.a.createElement(d.a,null,s.a.createElement(m.a,Object.assign({exact:!0,path:F.User.create(),component:$},this.props)),s.a.createElement(m.a,Object.assign({component:k},this.props)))),s.a.createElement(m.a,{path:F.Property.index()},s.a.createElement(d.a,null,s.a.createElement(m.a,Object.assign({exact:!0,path:F.Property.update(),component:q},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.Property.create(),component:q},this.props)),s.a.createElement(m.a,Object.assign({component:T},this.props)))),s.a.createElement(m.a,{path:F.Activity.index()},s.a.createElement(d.a,null,s.a.createElement(m.a,Object.assign({component:x},this.props)))),s.a.createElement(m.a,{path:F.Stock.index()},s.a.createElement(d.a,null,s.a.createElement(m.a,Object.assign({exact:!0,path:F.Stock.detail(),component:D},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.Stock.update(),component:P},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.Stock.create(),component:P},this.props)),s.a.createElement(m.a,Object.assign({component:N},this.props)))),s.a.createElement(m.a,{path:F.StockSupplier.index()},s.a.createElement(d.a,null,s.a.createElement(m.a,Object.assign({exact:!0,path:F.StockSupplier.detail(),component:L},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.StockSupplier.update(),component:_},this.props)),s.a.createElement(m.a,Object.assign({exact:!0,path:F.StockSupplier.create(),component:_},this.props)))),s.a.createElement(m.a,Object.assign({exact:!0,path:F.StockTransaction.create(),component:B},this.props)),s.a.createElement(m.a,Object.assign({component:E},this.props)))}}]),e}(l.Component);e.b=R},630:function(t,e,n){},632:function(t,e,n){},636:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(37),o=n.n(i),c=n(16),u=n(26),l=n(22),s=n(17),d=n(23),m=n(21),p=n(713),f=n(104),b=n(711),h=n(172),v=n(38),g=n(173),O=n(175),y=n(295),j=n(296),E=n(27);function S(t){var e=t.queryName,n=t.mutationName;return function(t){var a=t.mutation,r=t.query;if(a.result.errors)return r.result;var i=a.result.data[n],o=a.variables.id,c=r.result[e].find(function(t){return t.id===o});return c?(c.totalReceivedAmount+=i.amount,c.balance+=i.amount,r.result):r.result}}function k(t){var e=t.queryName,n=t.mutationName;return function(t){var a=t.mutation,r=t.query;if(a.result.error)return r.result;if(0!==r.variables.skip)return r.result[e][0].count++,r.result;var i=a.result.data[n];return i&&r.result[e].unshift(Object(m.a)({count:r.result[e][0].count+1},i)),r.result}}var $={createUser:{users:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=e.result.data.createUser;return a&&a.id&&n.result.users.unshift(a),n.result}},credit:{users:S({queryName:"users",mutationName:"credit"}),userCreditHistory:k({queryName:"userCreditHistory",mutationName:"credit"})},createSite:{sites:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=e.result.data.createSite;return a&&a.id&&n.result.sites.unshift(a),n.result}},createSiteEntry:{siteEntries:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=JSON.parse(window.localStorage.getItem("ctx")||"{}");if(a&&a.siteEntryInsert)return n.result;var r=e.result.data.createSiteEntry;return r&&r.id&&n.result.siteEntries.unshift(r),window.localStorage.setItem("ctx",JSON.stringify({siteEntryInsert:!0,done:!1})),n.result},sites:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;if(JSON.parse(window.localStorage.getItem("ctx")||"{}").done||0!==n.variables.skip)return n.result;var a=e.result.data.createSiteEntry,r=n.result.sites.find(function(t){return t.id===a.site.id});if(!r)return console.log("empty sites"),n.result;var i=r.total,o=(i.other,i.other2,i.__typename,Object(E.a)(i,["other","other2","__typename"]));return console.log(o),Object.keys(o).forEach(function(t){o[t].quantity+=a[t].quantity,o[t].cost+=a[t].cost}),a.other.cost,a.other2.cost,r.entryCount+=1,r.cost+=a.total,r.managerSpentAmount+=a.managerSpentAmount,window.localStorage.setItem("ctx",JSON.stringify({done:!0,userDone:!1,site:r})),n.result},site:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;if(JSON.parse(window.localStorage.getItem("ctx")||"{}").done)return n.result;var a=e.result.data.createSiteEntry,r=n.result.site.id===a.site.id?n.result.site:null;if(!r)return n.result;var i=r.total,o=(i.other,i.other2,i.__typename,Object(E.a)(i,["other","other2","__typename"]));return Object.keys(o).forEach(function(t){o[t].quantity+=a[t].quantity,o[t].cost+=a[t].cost}),a.other.cost,a.other2.cost,r.entryCount+=1,r.cost+=a.total,r.managerSpentAmount+=a.managerSpentAmount,window.localStorage.setItem("ctx",JSON.stringify({done:!0,userDone:!1,site:r})),n.result},users:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=JSON.parse(window.localStorage.getItem("ctx")||"{}");if(a.userDone&&!a.site)return window.localStorage.setItem("ctx",JSON.stringify({done:!0,userDone:!0})),n.result;var r=e.result.data.createSiteEntry,i=n.result.users.find(function(t){return t.id===a.site.manager.id});if(!i)return window.localStorage.setItem("ctx",JSON.stringify({done:!0,userDone:!0})),n.result;i.spent+=r.managerSpentAmount,i.siteCount++,i.totalSitesCost+=r.total}},updateSiteEntry:{siteEntries:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=e.result.data.updateSiteEntry,r=n.result.siteEntries.find(function(t){return t.id===a.id});return r?(window.localStorage.setItem("ctx",JSON.stringify({done:!1,oldEntry:r})),n.result):(window.localStorage.setItem("ctx",JSON.stringify({done:!1})),n.result)},sites:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=JSON.parse(window.localStorage.getItem("ctx")||"{}");if(a.done)return n.result;var r=e.result.data.updateSiteEntry,i=n.result.sites.find(function(t){return t.id===r.site.id});if(!i)return window.localStorage.setItem("ctx",JSON.stringify({done:!1,oldEntry:a.oldEntry})),n.result;try{var o=a.oldEntry,c=i.total,u=c.other,l=c.other2,s=(c.__typename,Object(E.a)(c,["other","other2","__typename"]));Object.keys(s).forEach(function(t){s[t].quantity=s[t].quantity-o[t].quantity+r[t].quantity,s[t].cost=s[t].cost-o[t].cost+r[t].cost}),u=u-o.other.cost+r.other.cost,l=l-o.other2.cost+r.other2.cost,i.cost=i.cost-o.total+r.total,i.managerSpentAmount=i.managerSpentAmount-o.managerSpentAmount+r.managerSpentAmount,window.localStorage.setItem("ctx",JSON.stringify({done:!0}))}catch(d){return n.result}return n.result},site:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=JSON.parse(window.localStorage.getItem("ctx")||"{}");if(a.done)return n.result;var r=a.oldEntry,i=e.result.data.updateSiteEntry,o=n.result.site.id===i.site.id?n.result.site:null;if(!o)return window.localStorage.setItem("ctx",JSON.stringify({done:!1})),n.result;var c=o.total,u=c.other,l=c.other2,s=(c.__typename,Object(E.a)(c,["other","other2","__typename"]));return Object.keys(s).forEach(function(t){s[t].quantity=s[t].quantity-r[t].quantity+i[t].quantity,s[t].cost=s[t].cost-r[t].cost+i[t].cost}),u=u-r.other.cost+i.other.cost,l=l-r.other2.cost+i.other2.cost,o.cost=o.cost-r.total+i.total,o.managerSpentAmount=o.managerSpentAmount-r.managerSpentAmount+i.managerSpentAmount,window.localStorage.setItem("ctx",JSON.stringify({done:!0})),n.result}},createProperty:{properties:function(t){var e=t.mutation,n=t.query;if(e.result.errors)return n.result;var a=e.result.data.createProperty;return a&&a.id&&n.result.properties.unshift(a),n.result}},propertyCredit:{properties:S({queryName:"properties",mutationName:"propertyCredit"}),propertyCreditHistory:k({queryName:"propertyCreditHistory",mutationName:"propertyCredit"})}},w=n(125),A=n(55),I=(n(630),n(632),new b.a({dataIdFromObject:function(t){return t.id}})),C=new j.WatchedMutationLink(I,Object(m.a)({},$)),T=Object(O.a)({typeDefs:w.c,defaults:w.a,resolvers:w.b}),q=Object(y.a)(function(t,e){var n=e.headers,a=localStorage.getItem("userToken");return{headers:Object(m.a)({},n,{authorization:a?"".concat(a):""})}}),x=new h.a({link:v.ApolloLink.from([C,q,T,new g.a({uri:"/graphql"})]),cache:I}),N=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(f.ApolloProvider,{client:x},r.a.createElement(p.a,null,r.a.createElement(A.b,null)))}}]),e}(a.Component),P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(t,e){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}o.a.render(r.a.createElement(N,null),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");P?(function(t,e){fetch(t).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):D(t,e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):D(e,t)})}}({onSuccess:function(t){return null},onUpdate:function(t){return null}})},76:function(t,e,n){"use strict";n.d(e,"p",function(){return x}),n.d(e,"i",function(){return N}),n.d(e,"b",function(){return P}),n.d(e,"s",function(){return D}),n.d(e,"c",function(){return B}),n.d(e,"t",function(){return L}),n.d(e,"h",function(){return U}),n.d(e,"x",function(){return F}),n.d(e,"o",function(){return R}),n.d(e,"y",function(){return J}),n.d(e,"l",function(){return H}),n.d(e,"k",function(){return M}),n.d(e,"a",function(){return W}),n.d(e,"r",function(){return z}),n.d(e,"j",function(){return V}),n.d(e,"q",function(){return G}),n.d(e,"d",function(){return Q}),n.d(e,"u",function(){return K}),n.d(e,"m",function(){return X}),n.d(e,"f",function(){return Y}),n.d(e,"w",function(){return Z}),n.d(e,"n",function(){return tt}),n.d(e,"e",function(){return et}),n.d(e,"v",function(){return nt}),n.d(e,"g",function(){return at});var a=n(5),r=n(4),i=n(28);function o(){var t=Object(a.a)(["\n  mutation createStockTransaction($data: TransactionCreateInput!) {\n    createTransaction(data: $data) {\n      id\n      stock {\n        id\n        name\n      }\n      quantity\n      type\n      supplier {\n        id\n        name\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]);return o=function(){return t},t}function c(){var t=Object(a.a)(["\n  mutation updateStockItemTransaction(\n    $id: ID!\n    $data: StockItemTransactionInput!\n  ) {\n    updateStockItemTransaction(id: $id, data: $data) {\n      id\n      stockItem {\n        id\n        name\n      }\n      quantity\n      type\n      supplier {\n        id\n        name\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]);return c=function(){return t},t}function u(){var t=Object(a.a)(["\n  mutation createStockItemTransaction(\n    $stockItemId: ID!\n    $data: StockItemTransactionInput!\n  ) {\n    createStockItemTransaction(stockItemId: $stockItemId, data: $data) {\n      id\n      stockItem {\n        id\n        name\n      }\n      quantity\n      type\n      supplier {\n        id\n        name\n      }\n      createdAt\n      updatedAt\n    }\n  }\n"]);return u=function(){return t},t}function l(){var t=Object(a.a)(["\n  mutation deleteStockSuppliers($ids: [ID!]!) {\n    deleteSupplier(ids: $ids)\n  }\n"]);return l=function(){return t},t}function s(){var t=Object(a.a)(["\n  mutation updateStockSupplier($id: ID!, $data: SupplierUpdateInput!) {\n    updateSupplier(id: $id, data: $data) {\n      id\n      name\n      contact\n      createdAt\n      updatedAt\n    }\n  }\n"]);return s=function(){return t},t}function d(){var t=Object(a.a)(["\n  mutation createStockSupplier($data: SupplierCreateInput!) {\n    createSupplier(data: $data) {\n      id\n      name\n      contact\n      createdAt\n      updatedAt\n    }\n  }\n"]);return d=function(){return t},t}function m(){var t=Object(a.a)(["\n  mutation deleteStockItems($ids: [ID!]!) {\n    deleteStock(ids: $ids)\n  }\n"]);return m=function(){return t},t}function p(){var t=Object(a.a)(["\n  mutation updateStockItem($id: ID!, $data: StockUpdateInput!) {\n    updateStock(id: $id, data: $data) {\n      id\n      name\n      unit\n      available\n      createdAt\n      updatedAt\n    }\n  }\n"]);return p=function(){return t},t}function f(){var t=Object(a.a)(["\n  mutation createStockItem($data: StockCreateInput!) {\n    createStock(data: $data) {\n      id\n      name\n      unit\n      available\n      createdAt\n      updatedAt\n    }\n  }\n"]);return f=function(){return t},t}function b(){var t=Object(a.a)(["\n  mutation propertyCredit($id: String!, $data: PropertyCreditInput!) {\n    propertyCredit(id: $id, data: $data) {\n      amount\n      createdAt\n    }\n  }\n"]);return b=function(){return t},t}function h(){var t=Object(a.a)(["\n  mutation deleteProperties($ids: [String!]!) {\n    deleteProperties(ids: $ids) {\n      status\n    }\n  }\n"]);return h=function(){return t},t}function v(){var t=Object(a.a)(["\n  mutation updateProperty($id: String!, $data: PropertyUpdateInput!) {\n    updateProperty(id: $id, data: $data) {\n      id\n      name\n      location\n      price\n      buyer\n      totalReceivedAmount\n      balance\n      nextDueDate\n      note\n      createdAt\n      updatedAt\n    }\n  }\n"]);return v=function(){return t},t}function g(){var t=Object(a.a)(["\n  mutation createProperty($data: PropertyInput!) {\n    createProperty(data: $data) {\n      id\n      name\n      location\n      price\n      buyer\n      buyerNumber\n      totalReceivedAmount\n      balance\n      nextDueDate\n      note\n      createdAt\n      updatedAt\n    }\n  }\n"]);return g=function(){return t},t}function O(){var t=Object(a.a)(["\n  mutation deleteSites($ids: [String!]!) {\n    deleteSites(ids: $ids) {\n      status\n    }\n  }\n"]);return O=function(){return t},t}function y(){var t=Object(a.a)(["\n  mutation deleteSiteEntries($siteId: String!, $ids: [String!]!) {\n    deleteSiteEntries(siteId: $siteId, ids: $ids) {\n      status\n    }\n  }\n"]);return y=function(){return t},t}function j(){var t=Object(a.a)(["\n  mutation updateUserPassword($id: String!, $data: UserPasswordInput!) {\n    updateUserPassword(id: $id, data: $data) {\n      status\n    }\n  }\n"]);return j=function(){return t},t}function E(){var t=Object(a.a)(["\n  mutation deleteUsers($ids: [String!]!) {\n    deleteUsers(ids: $ids) {\n      status\n    }\n  }\n"]);return E=function(){return t},t}function S(){var t=Object(a.a)(["\n  mutation updateUserContact($id: String!, $contact: Float!) {\n    updateUserContact(id: $id, contact: $contact) {\n      id\n      username\n      contact\n      siteCount\n      totalSitesCost\n      totalReceivedAmount\n      spent\n      balance\n      createdAt\n      updatedAt\n    }\n  }\n"]);return S=function(){return t},t}function k(){var t=Object(a.a)(["\n  mutation createUser($data: UserInput!) {\n    createUser(data: $data) {\n      id\n      username\n      siteCount\n      totalSitesCost\n      totalReceivedAmount\n      spent\n      balance\n      createdAt\n      updatedAt\n      count\n    }\n  }\n"]);return k=function(){return t},t}function $(){var t=Object(a.a)(["\nmutation updateSiteEntry(\n    $id: String!\n    $siteId: String!,\n    $data: SiteEntryInput!\n) {\n    updateSiteEntry(\n        id: $id,\n        siteId: $siteId,\n        data: $data\n    ) {\n        id,\n        createdAt,\n        updatedAt,\n        mistri ",",\n        labour ",",\n        eit ",",\n        morang ",",\n        baalu ",",\n        githi ",",\n        cement ",",\n        saria ",",\n        dust ",",\n        other ",",\n        other2 ",",\n        site {\n            id\n        }\n        managerSpentAmount,\n        total\n    }\n}\n"]);return $=function(){return t},t}function w(){var t=Object(a.a)(["\nmutation createSiteEntry(\n    $siteId: String!,\n    $data: SiteEntryInput!\n) {\n    createSiteEntry(\n        siteId: $siteId,\n        data: $data\n    ) {\n        id,\n        createdAt,\n        updatedAt,\n        mistri ",",\n        labour ",",\n        eit ",",\n        morang ",",\n        baalu ",",\n        githi ",",\n        cement ",",\n        saria ",",\n        dust ",",\n        other ",",\n        other2 ",",\n        site {\n            id\n        }\n        managerSpentAmount,\n        total\n    }\n}\n"]);return w=function(){return t},t}function A(){var t=Object(a.a)(["\n  {\n    quantity\n    cost\n    paid\n  }\n"]);return A=function(){return t},t}function I(){var t=Object(a.a)(["\nmutation updateSite($id: String!, $data: SiteUpdateInput!) {\n    updateSite(id: $id, data: $data) {\n        id,\n        name,\n        location,\n        entryCount,\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        cost\n        total{\n            mistri ","\n            labour ","\n            eit ","\n            morang ","\n            baalu ","\n            githi ","\n            cement ","\n            saria ","\n            dust ","\n            other\n            other2\n        }\n        createdAt,\n        updatedAt,\n    }\n}\n"]);return I=function(){return t},t}function C(){var t=Object(a.a)(["\nmutation createSite($data: SiteInput!) {\n    createSite(data: $data) {\n        id,\n        name,\n        location,\n        entryCount,\n        count\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        cost\n        total{\n            mistri ","\n            labour ","\n            eit ","\n            morang ","\n            baalu ","\n            githi ","\n            cement ","\n            saria ","\n            dust ","\n            other\n            other2\n        }\n        createdAt,\n        updatedAt,\n    }\n}\n"]);return C=function(){return t},t}function T(){var t=Object(a.a)(["\n  mutation credit($id: String!, $amount: Float!) {\n    credit(id: $id, amount: $amount) {\n      amount\n      createdAt\n    }\n  }\n"]);return T=function(){return t},t}function q(){var t=Object(a.a)(["\n  mutation login($data: LoginInput!) {\n    login(data: $data) {\n      token\n    }\n  }\n"]);return q=function(){return t},t}var x=Object(r.a)(q()),N=Object(r.a)(T()),P=Object(r.a)(C(),i.v,i.v,i.v,i.v,i.v,i.v,i.v,i.v,i.v),D=Object(r.a)(I(),i.v,i.v,i.v,i.v,i.v,i.v,i.v,i.v,i.v),_=Object(r.a)(A()),B=Object(r.a)(w(),_,_,_,_,_,_,_,_,_,_,_),L=Object(r.a)($(),_,_,_,_,_,_,_,_,_,_,_),U=Object(r.a)(k()),F=Object(r.a)(S()),R=Object(r.a)(E()),J=Object(r.a)(j()),H=Object(r.a)(y()),M=Object(r.a)(O()),W=Object(r.a)(g()),z=Object(r.a)(v()),V=Object(r.a)(h()),G=Object(r.a)(b()),Q=Object(r.a)(f()),K=Object(r.a)(p()),X=Object(r.a)(m()),Y=Object(r.a)(d()),Z=Object(r.a)(s()),tt=Object(r.a)(l()),et=Object(r.a)(u()),nt=Object(r.a)(c()),at=Object(r.a)(o())},78:function(t,e,n){"use strict";n.d(e,"d",function(){return l}),n.d(e,"c",function(){return d}),n.d(e,"f",function(){return m}),n.d(e,"m",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"h",function(){return h}),n.d(e,"j",function(){return v}),n.d(e,"i",function(){return g}),n.d(e,"l",function(){return O}),n.d(e,"k",function(){return y}),n.d(e,"b",function(){return j}),n.d(e,"g",function(){return E});var a=n(5),r=n(4);function i(){var t=Object(a.a)(["\n  query stockEnhancedTabs {\n    stockEnhancedTabs @client {\n      value\n    }\n  }\n"]);return i=function(){return t},t}function o(){var t=Object(a.a)(["\n  query enhancedTabs {\n    enhancedTabs @client {\n      value\n    }\n  }\n"]);return o=function(){return t},t}function c(){var t=Object(a.a)(["\n    query "," {\n        "," @client{\n            order,\n            orderBy,\n            selected,\n            page,\n            rowsPerPage\n        }\n    }\n"]);return c=function(){return t},t}function u(){var t=Object(a.a)(["\n  query localLogin {\n    localLogin @client {\n      token\n    }\n  }\n"]);return u=function(){return t},t}var l=Object(r.a)(u());function s(t){return Object(r.a)(c(),t,t)}var d=s("entryTable"),m=s("siteTable"),p=s("userEntryTable"),f=s("creditEntryTable"),b=s("propertyTable"),h=s("stockItemTable"),v=s("stockSupplierTable"),g=s("stockItemTransactionTable"),O=s("supplierTransactionTable"),y=s("stockTransactionTable"),j=Object(r.a)(o()),E=Object(r.a)(i())},79:function(t,e,n){"use strict";var a=n(16),r=n(26),i=n(22),o=n(17),c=n(23),u=n(0),l=n.n(u),s=n(42),d=n.n(s),m=n(18),p=n(157),f=n.n(p),b=n(159),h=n.n(b),v=n(158),g=n.n(v),O=n(35),y=n.n(O),j=n(36),E=n.n(j),S=n(62),k=n.n(S),$=n(39),w=n(106),A=n(54),I=n(278),C=n(27),T=n(156),q=n.n(T),x=n(146),N=n.n(x),P=n(61),D=n.n(P),_=Object($.asField)(function(t){var e=t.fieldState,n=t.fieldApi,a=Object(C.a)(t,["fieldState","fieldApi"]),r=e.value,i=e.error,o=n.setValue,c=n.setTouched,u=a.onChange,s=a.onBlur,d=a.forwardedRef,m=a.field,p=Object(C.a)(a,["onChange","onBlur","forwardedRef","field"]);return l.a.createElement(q.a,{className:"w-100 mt3 ttc",control:l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,Object.assign({name:m},p,{ref:d,checked:!0===r,value:String(r),onChange:function(t){o("false"===t.target.value),u&&u(t)},onBlur:function(t){c(),s&&s(t)}})),i?l.a.createElement(D.a,{error:!0},i):null),label:m})}),B=n(101),L=n.n(B),U=n(96),F=n.n(U),R=Object($.asField)(function(t){var e=t.fieldState,n=t.fieldApi,a=Object(C.a)(t,["fieldState","fieldApi"]),r=e.value,i=e.error,o=n.setValue,c=n.setTouched,u=a.onChange,s=a.onBlur,d=a.forwardedRef,m=a.field,p=a.label,f=void 0===p?m:p,b=a.filter,h=void 0===b?function(t){return t}:b,v=Object(C.a)(a,["onChange","onBlur","forwardedRef","field","label","filter"]);return l.a.createElement(L.a,{fullWidth:!0,className:"mt3"},l.a.createElement(k.a,{htmlFor:m,className:"ttc"},f),l.a.createElement(F.a,Object.assign({name:m},v,{ref:d,value:r||0===r?r:"",onChange:function(t){o(h(t.target.value)),u&&u(t)},onBlur:function(t){c(),s&&s(t)}})),i?l.a.createElement(D.a,{error:!0},i):null)}),J=n(127),H=n.n(J),M=n(70),W=n.n(M),z=Object($.asField)(function(t){var e=t.fieldState,n=t.fieldApi,a=Object(C.a)(t,["fieldState","fieldApi"]),r=e.value,i=e.error,o=n.setValue,c=n.setTouched,u=a.onChange,s=a.onBlur,d=a.forwardedRef,m=a.field,p=a.label,f=void 0===p?m:p,b=a.options,h=(a.selected,a.mapping),v=Object(C.a)(a,["onChange","onBlur","forwardedRef","field","label","options","selected","mapping"]);return console.log(r,typeof r),l.a.createElement(L.a,{fullWidth:!0,className:"mt3"},l.a.createElement(k.a,{htmlFor:m,className:"ttc"},f),l.a.createElement(H.a,Object.assign({},v,{ref:d,value:r||"",onChange:function(t){console.log(r,typeof r,t.target.value),o(t.target.value),u&&u(t)},onBlur:function(t){c(),s&&s(t)},inputProps:{name:m}}),b.map(function(t){return h?l.a.createElement(W.a,{value:t[h.value],key:t[h.key]},t[h.key]):l.a.createElement(W.a,{value:t,key:t},t)})),i?l.a.createElement(D.a,{error:!0},i):null)});n.d(e,"b",function(){return V});function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.keys(t).map(function(a){var r=null;if("string"===typeof t[a].default)r=l.a.createElement(R,{field:a,label:t[a].label||a,type:t[a].type||"text",validate:t[a].validate,filter:t[a].filter,initialValue:t[a].default,inputProps:{step:"0.01",min:t[a].min,required:t[a].required},startAdornment:t[a].startAdornment||null,autoFocus:!n,validateOnChange:!0,validateOnBlur:!0});else if("number"===typeof t[a].default)r=l.a.createElement(R,{field:a,label:t[a].label||a,type:"number",validate:t[a].validate,filter:t[a].filter||function(t){return""===t?t:Number(t)},initialValue:t[a].default,inputProps:{step:"0.01",min:t[a].min,required:t[a].required},startAdornment:t[a].startAdornment||null,autoFocus:!n,validateOnChange:!0,validateOnBlur:!0});else if(t[a].default instanceof Array)r=l.a.createElement(z,{field:a,label:t[a].label||a,options:t[a].default,initialValue:t[a].current,mapping:t[a].mapping,filter:t[a].filter,selected:t[a].current,validate:t[a].validate,startAdornment:t[a].startAdornment||null,validateOnChange:!0,validateOnBlur:!0});else if(t[a].default instanceof Date)r=l.a.createElement(R,{field:a,label:t[a].label||a,type:t[a].type||"text",validate:t[a].validate,filter:t[a].filter,initialValue:t[a].default,startAdornment:t[a].startAdornment||null,validateOnChange:!0,validateOnBlur:!0});else if(t[a].type===Boolean)r=l.a.createElement(_,{field:a,label:t[a].label||a,initialValue:t[a].default,validate:t[a].validate,filter:t[a].filter,validateOnChange:!0,validateOnBlur:!0});else{if(!(t[a].default instanceof Object))throw new Error("undefined object found in form generator");r=l.a.createElement($.Scope,{scope:a},l.a.createElement(d.a,{container:!0,justify:"space-between",alignItems:"center",className:"mt4"},l.a.createElement(d.a,{item:!0,xs:3},l.a.createElement(k.a,{htmlFor:a,className:"ttc mt5"},e,". ",t[a].label||a)),l.a.createElement(d.a,{item:!0,xs:9},V(t[a].default,e+1,n))))}return e++,n=!0,l.a.createElement(l.a.Fragment,{key:a||Math.random()},r)})}var G=function(t){function e(){return Object(a.a)(this,e),Object(i.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,n=t.history,a=t.title,r=t.submitText,i=void 0===r?"Submit":r,o=t.defaults,c=t.mutation,u=t.mutateFunc,s=void 0===u?function(t,e){return t({variables:{data:e}})}:u,m=t.postMutation,p=t.raw,b=void 0!==p&&p;return l.a.createElement(A.a,{mutation:c},function(t,r){var c=r.loading,u=r.error;r.data;return l.a.createElement($.Form,{onSubmit:function(e){s(t,e).then(function(t){m?m(t):n.goBack()})}},l.a.createElement(d.a,{container:!0,className:e.root,justify:"center",alignItems:"center"},l.a.createElement(d.a,{item:!0,xs:12,sm:6,md:5},l.a.createElement(f.a,{className:e.card},c?l.a.createElement(I.a,null):null,l.a.createElement(g.a,{className:"ph4"},b?null:l.a.createElement(E.a,{variant:"display1",className:"mb2",align:"center"},a),V(o)),b?null:l.a.createElement(h.a,null,l.a.createElement(d.a,{container:!0,justify:"flex-end"},u?l.a.createElement(w.b,{error:!0},u.message):null,l.a.createElement(y.a,{size:"large",color:"secondary",onClick:function(t){return n.goBack()},disabled:c},"Cancel"),l.a.createElement(y.a,{size:"large",color:"primary",type:"submit",disabled:c},i)))))))})}}]),e}(u.PureComponent);e.a=Object(m.withStyles)(function(t){return Object(m.createStyles)({root:{flexGrow:1,marginTop:"2rem"},card:{minWidth:275,margin:"0 2%"},header:{marginBottom:"1rem",fontSize:"2rem"},progress:{margin:"1rem"}})})(G)},87:function(t,e,n){"use strict";n.d(e,"b",function(){return s});var a=n(16),r=n(22),i=n(17),o=n(23),c=n(0),u=n.n(c),l=n(18),s=function(t){return Object(l.createStyles)({progress:{margin:"1rem"}})},d=function(t){function e(){var t,n;Object(a.a)(this,e);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(n=Object(r.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(c)))).state={open:!1},n.handleClose=function(){n.setState({open:!1})},n.handleOpen=function(){n.setState({open:!0})},n}return Object(o.a)(e,t),e}(u.a.PureComponent);d.defaultProps={positiveHandler:function(){return null},postMutation:function(t){return null}},e.a=d}},[[370,26,24]]]);
//# sourceMappingURL=main.4c0bd3f7.chunk.js.map