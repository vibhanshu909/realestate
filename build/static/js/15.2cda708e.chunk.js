(window.webpackJsonp=window.webpackJsonp||[]).push([[15,5],{160:function(e,t,a){"use strict";a.r(t),a.d(t,"siteColumnData",function(){return k}),a.d(t,"siteExclude",function(){return w});var n=a(19),r=a(23),i=a.n(r),c=a(36),l=a(13),s=a(58),u=a.n(s),o=a(10),d=a(0),m=a.n(d),p=a(47),b=a(46),f=a(90),v=a(14),g=a(235),y=a(69),h=a(30),E=a(136),O=a(53),j=a(220),S=a(113),k=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"entryCount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Entries"},{id:"lastEntryDate",numeric:!1,disablePadding:!1,colSpan:1,label:"Last Entry On"},{id:"manager",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager"},{id:"managerSpentAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager Spent Amount (\u20b9)"},{id:"Total Cost",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Cost (\u20b9)"}],w=["id","count","total","createdAt","updatedAt","__typename"],x=Object(o.withStyles)(function(e){return Object(o.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit},lastEntryOn:{padding:"0 !important"}})})(function(e){var t=e.classes,a=e.history,r=Object(l.a)(e,["classes","history"]);return m.a.createElement("div",null,m.a.createElement(u.a,{container:!0,className:t.root},m.a.createElement(u.a,{item:!0,xs:12},m.a.createElement(p.a,{mutation:E.f},function(e,s){return m.a.createElement(b.a,{query:y.f},function(s){var u=s.data.siteTable;return m.a.createElement(p.a,{mutation:O.g},function(s){var o=u.page,d=u.rowsPerPage;return m.a.createElement(b.a,{query:h.g,variables:{limit:d,skip:o*d}},function(o){var d=o.loading,p=o.data,b=o.refetch;return m.a.createElement(j.a,Object.assign({},r,{loading:d,data:p.sites,title:"Sites",settings:u,count:p.sites.length&&p.sites[0].count||p.sites.length,columnData:k,exclude:w,options:{onView:function(e){return a.push(v.a.Site.detail({id:e}))},onDelete:function(){var t=Object(c.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s({variables:a});case 2:return t.next=4,e({variables:f.a.siteTable});case 4:b();case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onAdd:function(){return a.push(v.a.Site.create())}},render:Object(S.b)({match:"managerSpentAmount",classes:function(e){return"lastEntryDate"===e?t.lastEntryOn:""},renderValue:function(e){var t=e.key,a=e.value,r=Object(l.a)(e,["key","value"]);return"lastEntryDate"===t?Object(S.a)(Object(n.a)({key:t,value:Object(g.a)(a)},r)):Object(S.a)(Object(n.a)({key:t,value:a},r))}}),mutate:function(){var t=Object(c.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({variables:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}))})})})}))))});t.default=x},478:function(e,t,a){"use strict";a.d(t,"a",function(){return D});var n=a(23),r=a.n(n),i=a(36),c=a(19),l=a(13),s=a(4),u=a(58),o=a.n(u),d=a(10),m=a(137),p=a.n(m),b=a(0),f=a.n(b),v=a(242),g=a(220),y=a(47),h=a(236),E=a(136),O=a(53),j=a(69),S=a(30),k=a(90),w=a(14);function x(){var e=Object(s.a)(["\n  mutation createTransaction($data: TransactionCreateInput!) {\n    createTransaction(data: $data) {\n      id\n      createdAt\n      stock {\n        name\n      }\n      supplier {\n        username\n      }\n    }\n  }\n"]);return x=function(){return e},e}var T=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"unit",numeric:!1,disablePadding:!1,colSpan:1,label:"Unit"},{id:"available",numeric:!1,disablePadding:!1,colSpan:1,label:"Available"}],C=["id","createdAt","updatedAt","__typename"],A=p()(x()),P={quantity:{type:"number",default:0},note:{type:"text",default:""},type:{type:"select",default:[{key:"CREDIT [+]",value:"CREDIT"},{key:"DEBIT [-]",value:"DEBIT"}],current:"CREDIT"}},D=Object(d.withStyles)(function(e){return Object(d.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=e.user,s=Object(l.a)(e,["classes","history","user"]),u=k.a.stockItemTable;return f.a.createElement("div",null,f.a.createElement(o.a,{container:!0,className:t.root},f.a.createElement(o.a,{item:!0,xs:12},f.a.createElement(y.a,{mutation:O.i},function(t,l){var o=l.loading;return f.a.createElement(h.a,{tableMutation:E.h,tableQuery:j.h,dataQuery:S.k,defaultState:u},function(t,l,u){var d=u.loading,m=u.data,p=(u.refetch,e.optionable&&{credit:function(e){var t=e.selected,a=e.onCredit;return f.a.createElement(v.a,{mutation:A,defaults:P,positiveHandler:function(e,r){return a&&a(e,{data:Object(c.a)({},r,{stockId:t,supplierId:n.id})})}})},options:{onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),onView:function(e){return a.push(w.a.Stock.detail({id:e}))}}});return f.a.createElement(g.a,Object.assign({},s,{loading:d||o,data:m.stocks.edges,title:"Stock Items",settings:t,count:m.stocks.totalCount,columnData:T,exclude:C},p,{mutate:function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))})}))))})},479:function(e,t,a){"use strict";a.d(t,"a",function(){return S});var n=a(23),r=a.n(n),i=a(36),c=a(19),l=a(13),s=a(58),u=a.n(s),o=a(10),d=a(0),m=a.n(d),p=a(220),b=a(236),f=a(136),v=a(69),g=a(30),y=a(90),h=a(113),E=a(237),O=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"stock",numeric:!1,disablePadding:!1,colSpan:1,label:"Stock Name"},{id:"quantity",numeric:!1,disablePadding:!1,colSpan:1,label:"Quantity"},{id:"type",numeric:!1,disablePadding:!1,colSpan:1,label:"Transaction Type"},{id:"available",numeric:!1,disablePadding:!1,colSpan:1,label:"Available"},{id:"supplier",numeric:!1,disablePadding:!1,colSpan:1,label:"Supplier/Consumer"},{id:"note",numeric:!1,disablePadding:!1,colSpan:1,label:m.a.createElement("span",{style:{paddingLeft:"4rem",paddingRight:"4rem"}},"Note")}],j=["id","createdAt","updatedAt","__typename"],S=Object(o.withStyles)(function(e){return Object(o.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=(e.history,Object(l.a)(e,["classes","history"])),n=y.a.stockTransactionTable;return m.a.createElement("div",null,m.a.createElement(u.a,{container:!0,className:t.root},m.a.createElement(u.a,{item:!0,xs:12},m.a.createElement(b.a,{tableMutation:f.j,tableQuery:v.j,dataQuery:a.query||g.m,getQueryVariables:a.getQueryVariables,defaultState:n},function(e,t,n){var l=n.loading,s=n.data,u=(n.refetch,s[Object.keys(s)[0]]);return m.a.createElement(p.a,Object.assign({},a,{loading:l,data:u.edges,title:"Stock Transactions",settings:e,count:u.totalCount,columnData:O,exclude:j,render:Object(h.b)({match:"type",alt:!0,altValue:"DEBIT",altColor:"#eee",renderValue:function(e){var t=e.key,a=e.value;if("contact"===t)return{value:Object(E.a)(a)};var n=Object(h.a)({key:t,value:a,skip:["contact"]});return Object(c.a)({},n,{value:String(a).length?n.value:"-"})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))}))))})},679:function(e,t,a){"use strict";var n=a(17),r=a(20),i=a(11),c=a(18),l=a(12),s=a(138),u=a.n(s),o=a(10),d=a(221),m=a.n(d),p=a(222),b=a.n(p),f=a(34),v=a.n(f),g=a(0),y=a.n(g),h=a(681),E=a.n(h),O=a(47),j=a(46);function S(e){var t=e.children,a=e.dir;return y.a.createElement(v.a,{component:"div",dir:a},t)}var k=Object(o.withStyles)(function(e){return Object(o.createStyles)({root:{backgroundColor:e.palette.background.paper,width:"100%"},app:{marginTop:8*e.spacing.unit},content:{marginTop:5*e.spacing.unit},selected:{backgroundColor:e.palette.secondary.light,color:e.palette.secondary.contrastText}})},{withTheme:!0})(function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.props,r=n.defaults,i=n.localStateQuery,c=n.localStateMutation,l={tabs:[],containers:[]};return r.map(function(e){return l.tabs.push(y.a.createElement(m.a,{label:e.tab,key:e.tab,classes:{selected:t.selected}})),l.containers.push(y.a.createElement(S,{dir:a.direction,key:e.tab+"_container"},e.container)),null}),y.a.createElement(O.a,{mutation:c},function(e){return y.a.createElement(j.a,{query:i},function(n){var r=n.data,i=r[Object.keys(r)[0]];return y.a.createElement("div",{className:t.root},y.a.createElement(u.a,{color:"default",className:t.app},y.a.createElement(b.a,{value:i.value,onChange:function(t,a){return e({variables:{value:a}})},indicatorColor:"secondary"},l.tabs)),y.a.createElement(E.a,{className:t.content,axis:"rtl"===a.direction?"x-reverse":"x",index:i.value,onChangeIndex:function(t){return e({variables:{value:t}})}},l.containers))})})}}]),t}(y.a.PureComponent));t.a=k},712:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(20),i=a(11),c=a(18),l=a(12),s=a(4),u=a(137),o=a.n(u),d=a(0),m=a.n(d),p=a(679),b=a(136),f=a(69),v=a(23),g=a.n(v),y=a(36),h=a(13),E=a(19),O=a(10),j=a(220),S=a(236),k=a(58),w=a.n(k),x=a(67),T=a.n(x),C=a(34),A=a.n(C),P=a(30),D=a(113),I=a(238),N=a(46),Q=Object(O.withStyles)(function(e){return Object(O.createStyles)({paper:Object(E.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})})})(function(e){var t=e.classes,a=e.user;return m.a.createElement(N.a,{query:P.n,variables:{id:a.id}},function(e){var a=e.loading,n=e.error,r=e.data.user;return a?m.a.createElement("span",null,"loading..."):n?m.a.createElement("span",null,"Error Occured!"):m.a.createElement(T.a,{className:t.paper},m.a.createElement(w.a,{container:!0,spacing:32},m.a.createElement(w.a,{item:!0,container:!0,direction:"column",sm:6},m.a.createElement(w.a,{item:!0},m.a.createElement(A.a,{variant:"headline",className:"ttc",color:"primary"},"Username: ",r.username)),m.a.createElement(w.a,{item:!0},m.a.createElement(A.a,{variant:"headline",className:"ttc",color:"secondary"},"Total Sites: ",Object(I.a)(r.siteCount)))),m.a.createElement(w.a,{item:!0,container:!0,direction:"column",sm:6},m.a.createElement(w.a,{item:!0},m.a.createElement(A.a,{variant:"subheading"},"Total Received Amount (\u20b9):"," ",m.a.createElement("span",{style:{color:Object(D.a)({value:r.totalReceivedAmount,balance:!1}).color||void 0}},Object(D.a)({value:r.totalReceivedAmount}).value))),m.a.createElement(w.a,{item:!0},m.a.createElement(A.a,{variant:"subheading"},"Total Spent Amount (\u20b9): ",Object(I.a)(r.spent))),m.a.createElement(w.a,{item:!0},m.a.createElement(A.a,{variant:"subheading"},"Total Balance (\u20b9):"," ",m.a.createElement("span",{style:{color:Object(D.a)({value:r.balance,balance:!1}).color||void 0}},Object(D.a)({value:r.balance}).value))))))})}),q=a(90),V=a(14),$=a(235),M=a(160),R=Object(O.withStyles)(function(e){return Object(O.createStyles)({root:{width:"100%"},paper:Object(E.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),fab:{position:"fixed",width:"8rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit},lastEntryOn:{padding:"0 !important"}})})(function(e){var t=e.classes,a=e.history,n=Object(h.a)(e,["classes","history"]),r=q.a.siteTable;return m.a.createElement("div",null,m.a.createElement(Q,e),m.a.createElement(S.a,{tableMutation:b.f,tableQuery:f.f,dataQuery:P.g,defaultState:r},function(e,r,i){var c=i.loading,l=i.data,s=i.refetch;return m.a.createElement(j.a,Object.assign({},n,{loading:c,data:l.sites,title:"Sites",settings:e,refetch:s,count:l.sites.length&&l.sites[0].count||l.sites.length,columnData:M.siteColumnData,exclude:M.siteExclude,options:{selectable:!1,onView:function(e){return a.push(V.a.Site.detail({id:e}))}},render:Object(D.b)({match:"managerSpentAmount",classes:function(e){return"lastEntryDate"===e?t.lastEntryOn:""},renderValue:function(e){var t=e.key,a=e.value,n=Object(h.a)(e,["key","value"]);return"lastEntryDate"===t?Object(D.a)(Object(E.a)({key:t,value:Object($.a)(a)},n)):Object(D.a)(Object(E.a)({key:t,value:a},n))}}),mutate:function(){var e=Object(y.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({variables:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))}))}),_=a(478),B=a(479);function L(){var e=Object(s.a)(["\n  query supplierTransactions($id: ID!, $limit: Int!, $skip: Int) {\n    supplierTransactions(id: $id, limit: $limit, skip: $skip) {\n      totalCount\n      edges {\n        id\n        stock {\n          name\n        }\n        quantity\n        type\n        available\n        supplier {\n          name: username\n        }\n        note\n        createdAt\n      }\n    }\n  }\n"]);return L=function(){return e},e}var J=o()(L()),U=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.me,t=[{tab:"Site",container:m.a.createElement(R,this.props)},{tab:"Stock",container:m.a.createElement(_.a,Object.assign({},this.props,{optionable:e.stockPermission}))},{tab:"Transaction",container:m.a.createElement(B.a,Object.assign({},this.props,{query:J,getQueryVariables:function(){return{id:e.id}}}))}];return m.a.createElement(p.a,{defaults:t,localStateMutation:b.b,localStateQuery:f.b})}}]),t}(d.PureComponent);t.default=U}}]);
//# sourceMappingURL=15.2cda708e.chunk.js.map