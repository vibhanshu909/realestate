(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{153:function(e,t,a){"use strict";a.r(t),a.d(t,"siteColumnData",function(){return O}),a.d(t,"siteExclude",function(){return S});var n=a(41),r=a.n(n),i=a(68),c=a(27),u=a(0),l=a.n(u),o=a(54),s=a(42),d=a.n(s),b=a(18),p=a(53),m=a(125),f=a(55),h=a(28),v=a(78),g=a(224),y=a(76),E=a(641),j=a(648),O=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"entryCount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Entries"},{id:"manager",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager"},{id:"managerSpentAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Manager Spent Amount (\u20b9)"},{id:"Total Cost",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Cost (\u20b9)"}],S=["id","count","total","createdAt","updatedAt","__typename"],w=Object(b.withStyles)(function(e){return Object(b.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=Object(c.a)(e,["classes","history"]);return l.a.createElement("div",null,l.a.createElement(d.a,{container:!0,className:t.root},l.a.createElement(d.a,{item:!0,xs:12},l.a.createElement(o.a,{mutation:g.f},function(e,t){return l.a.createElement(p.a,{query:v.f},function(t){var c=t.data.siteTable;return l.a.createElement(o.a,{mutation:y.k},function(t){var u=c.page,o=c.rowsPerPage;return l.a.createElement(p.a,{query:h.f,variables:{limit:o,skip:u*o}},function(u){var o=u.loading,s=u.data,d=u.refetch;return l.a.createElement(j.a,Object.assign({},n,{loading:o,data:s.sites,title:"Sites",settings:c,count:s.sites.length&&s.sites[0].count||s.sites.length,columnData:O,exclude:S,options:{onView:function(e){return a.push(f.a.Site.detail({id:e}))},onEdit:function(e){return a.push(f.a.Site.update({id:e,edit:!0}))},onDelete:function(){var a=Object(i.a)(r.a.mark(function a(n){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("calling deleteMutate function..."),a.next=3,t({variables:n});case 3:return a.next=5,e({variables:m.a.siteTable});case 5:d();case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}(),onAdd:function(){return a.push(f.a.Site.create())}},render:Object(E.b)({match:"managerSpentAmount"}),mutate:function(){var t=Object(i.a)(r.a.mark(function t(a){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({variables:a});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}))})})})}))))});t.default=w},170:function(e,t,a){"use strict";a.r(t),a.d(t,"userColumnData",function(){return k}),a.d(t,"userExclude",function(){return A});var n=a(41),r=a.n(n),i=a(68),c=a(27),u=a(0),l=a.n(u),o=a(54),s=a(42),d=a.n(s),b=a(18),p=a(230),m=a.n(p),f=a(162),h=a(229),v=a(125),g=a(129),y=a(55),E=a(28),j=a(78),O=a(224),S=a(76),w=a(641),x=a(649),P=a(648),C=a(650),k=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"username",numeric:!1,disablePadding:!1,colSpan:1,label:"Username"},{id:"contact",numeric:!1,disablePadding:!1,colSpan:1,label:"Phone Number"},{id:"siteCount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Sites"},{id:"totalSitesCost",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Sites Cost (\u20b9)"},{id:"totalReceivedAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Received Amount (\u20b9)"},{id:"spent",numeric:!1,disablePadding:!1,colSpan:1,label:"Spent Amount (\u20b9)"},{id:"balance",numeric:!1,disablePadding:!1,colSpan:1,label:"Balance Amount (\u20b9)"}],A=["id","count","sites","createdAt","updatedAt","__typename"],D=Object(b.withStyles)(function(e){return Object(b.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=Object(c.a)(e,["classes","history"]),u=v.a.userEntryTable;return l.a.createElement("div",null,l.a.createElement(d.a,{container:!0,className:t.root},l.a.createElement(d.a,{item:!0,xs:12},l.a.createElement(x.a,{tableMutation:O.m,tableQuery:j.m,dataQuery:E.s,defaultState:u},function(e,t,c){var u=c.loading,s=c.data,d=c.refetch;return l.a.createElement(o.a,{mutation:S.o},function(c,o){var b=o.loading;return l.a.createElement(P.a,Object.assign({},n,{loading:u||b,data:s.users,title:"Users",settings:e,count:s.users.length&&s.users[0].count||s.users.length,columnData:k,exclude:A,historyable:E.u,menu:function(e){return 1===e.length?l.a.createElement(f.b,{options:[function(t){return l.a.createElement(h.a,Object.assign({},t,{reset:!0,positiveHandler:function(t,a){return t({variables:{id:e[0],data:Object(g.a)(a,["confirmNewPassword"])}})}}),l.a.createElement(f.a,Object.assign({},t,{icon:l.a.createElement(m.a,null),content:"Reset Password",tooltip:"Reset Password"})))}]}):null},options:{onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),onDelete:function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("calling deleteMutate function..."),e.next=3,c({variables:a});case 3:return e.next=5,t({variables:v.a.userEntryTable});case 5:d();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),onAdd:function(){return a.push(y.a.User.create())}},render:Object(w.b)({match:"spent",renderValue:function(e){var t=e.key,a=e.value;return"contact"===t?{value:Object(C.a)(a)}:Object(w.a)({key:t,value:a})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))})}))))});t.default=D},174:function(e,t,a){"use strict";a.r(t);var n=a(41),r=a.n(n),i=a(68),c=a(21),u=a(27),l=a(0),o=a.n(l),s=a(54),d=a(42),b=a.n(d),p=a(18),m=a(125),f=a(55),h=a(28),v=a(78),g=a(224),y=a(76),E=a(641),j=a(649),O=a(640),S=a(16),w=a(26),x=a(22),P=a(17),C=a(23),k=a(69),A=a.n(k),D=a(651),T=a.n(D),N=a(35),M=a.n(N),Q=a(88),R=a.n(Q),_=a(39),B=a(82),q=a.n(B),H=a(86),U=a.n(H),V=a(84),F=a.n(V),J=a(85),L=a.n(J),z=a(83),I=a.n(z),G=a(131),K=a.n(G),W=a(106),X=a(79),Y=a(87),Z={amount:{type:"number",default:0,startAdornment:o.a.createElement(K.a,{position:"start"},"\u20b9")},nextDueDate:{type:"date",default:Object(O.b)(),validate:function(e){return new Date(e).getTime()<=new Date(Object(O.b)()).getTime()?"Must be a future date":null}}},$=Object(p.withStyles)(Y.b)(function(e){function t(){return Object(S.a)(this,t),Object(x.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open,a=this.props,n=a.classes,r=a.history,i=a.selected,c=a.negativeHandler,u=void 0===c?function(){return e.handleClose()}:c,l=a.positiveHandler,d=void 0===l?function(){return null}:l,b=a.postMutation,p=void 0===b?function(){return null}:b,m="Add Credit";return o.a.createElement("div",null,o.a.createElement(s.a,{mutation:y.q},function(a,c){var l=c.loading,s=c.error;c.data;return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{"aria-label":"Credit",title:"Credit",onClick:e.handleOpen},o.a.createElement(T.a,null)),t?o.a.createElement(q.a,{fullScreen:!1,open:t,onClose:u,"aria-labelledby":m,title:m},o.a.createElement(_.Form,{onSubmit:function(t){d(a,{data:t},i).then(function(t){p?(p(t),e.handleClose()):r.goBack()})}},o.a.createElement(I.a,{id:m},m),o.a.createElement(F.a,null,o.a.createElement(L.a,null,"Add credit amount to this property."),Object(X.b)(Z)),o.a.createElement(U.a,null,l?o.a.createElement(R.a,{className:n.progress}):null,s?o.a.createElement(W.b,{error:!0},s.message):null,o.a.createElement(M.a,{onClick:u,color:"primary",autoFocus:!0},"Cancel"),o.a.createElement(M.a,{size:"large",type:"submit",disabled:l},"Confirm")))):null)}))}}]),t}(Y.a)),ee=a(648),te=a(650);a.d(t,"propertyColumnData",function(){return ae}),a.d(t,"propertyExclude",function(){return ne});var ae=[{id:"createdAt",numeric:!1,disablePadding:!1,colSpan:1,label:"Created At"},{id:"name",numeric:!1,disablePadding:!1,colSpan:1,label:"Name"},{id:"location",numeric:!1,disablePadding:!1,colSpan:1,label:"Location"},{id:"price",numeric:!1,disablePadding:!1,colSpan:1,label:"Price (\u20b9)"},{id:"buyer",numeric:!1,disablePadding:!1,colSpan:1,label:"Bought By"},{id:"buyerNumber",numeric:!1,disablePadding:!1,colSpan:1,label:"Buyer's Phone Number"},{id:"totalReceivedAmount",numeric:!1,disablePadding:!1,colSpan:1,label:"Total Received Amount (\u20b9)"},{id:"balance",numeric:!1,disablePadding:!1,colSpan:1,label:"Balance Amount (\u20b9)"},{id:"nextDueDate",numeric:!1,disablePadding:!1,colSpan:1,label:"Next Due Date"},{id:"note",numeric:!1,disablePadding:!1,colSpan:1,label:"Note"}],ne=["id","count","createdAt","updatedAt","__typename"],re=Object(p.withStyles)(function(e){return Object(p.createStyles)({root:{width:"100%"},fab:{position:"fixed",width:"4rem",bottom:2*e.spacing.unit,right:2*e.spacing.unit}})})(function(e){var t=e.classes,a=e.history,n=Object(u.a)(e,["classes","history"]);return o.a.createElement("div",null,o.a.createElement(b.a,{container:!0,className:t.root},o.a.createElement(b.a,{item:!0,xs:12},o.a.createElement(s.a,{mutation:y.j},function(e,t){var u=t.loading;return o.a.createElement(j.a,{tableMutation:g.e,tableQuery:v.e,dataQuery:h.b,defaultState:m.a.propertyTable,getQueryVariables:function(e){return{}}},function(t,l,s){var d=s.loading,b=s.data,p=s.refetch;return o.a.createElement(ee.a,Object.assign({},n,{loading:d||u,data:b.properties,title:"Properties",settings:t,count:b.properties.length&&b.properties[0].count||b.properties.length,columnData:ae,exclude:ne,historyable:h.d,credit:o.a.createElement($,Object.assign({},n,{positiveHandler:function(e,t,a){return e({variables:Object(c.a)({},t,{id:a})})}})),options:{onEdit:function(e){return a.push(f.a.Property.update({id:e,edit:!0}))},onCredit:function(){var e=Object(i.a)(r.a.mark(function e(t,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:a});case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),onDelete:function(){var t=Object(i.a)(r.a.mark(function t(a){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("calling deleteMutate function..."),t.next=3,e({variables:a});case 3:return t.next=5,l({variables:m.a.propertyTable});case 5:p();case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onAdd:function(){return a.push(f.a.Property.create())}},render:Object(E.b)({match:"totalReceivedAmount",renderValue:function(e){var t=e.key,a=e.value;if("nextDueDate"===t)return{value:Object(O.a)(a)};if("buyerNumber"===t)return{value:Object(te.a)(a)};var n=Object(E.a)({key:t,value:a,skip:["buyerNumber"]});return Object(c.a)({},n,{value:String(a).length?n.value:"-"})}}),mutate:function(){var e=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}))})}))))});t.default=re},650:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(696);t.a=function(e){return e?r.a.createElement(i.a,{to:"",onClick:function(t){return setTimeout(function(t){return window.location.href="tel:+91-".concat(e)},0)}},e):"-"}},659:function(e,t,a){"use strict";var n=a(16),r=a(26),i=a(22),c=a(17),u=a(23),l=a(0),o=a.n(l),s=a(18),d=a(660),b=a.n(d),p=a(132),m=a.n(p),f=a(311),h=a.n(f),v=a(310),g=a.n(v),y=a(36),E=a.n(y),j=a(53),O=a(54);function S(e){var t=e.children,a=e.dir;return o.a.createElement(E.a,{component:"div",dir:a},t)}var w=Object(s.withStyles)(function(e){return Object(s.createStyles)({root:{backgroundColor:e.palette.background.paper,width:"100%"},app:{marginTop:8*e.spacing.unit},content:{marginTop:5*e.spacing.unit}})},{withTheme:!0})(function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.props,r=n.defaults,i=n.localStateQuery,c=n.localStateMutation,u={tabs:[],containers:[]};return r.map(function(e){return u.tabs.push(o.a.createElement(g.a,{label:e.tab,key:e.tab})),u.containers.push(o.a.createElement(S,{dir:a.direction,key:e.tab+"_container"},e.container)),null}),o.a.createElement(O.a,{mutation:c},function(e){return o.a.createElement(j.a,{query:i},function(n){var r=n.data,i=r[Object.keys(r)[0]];return o.a.createElement("div",{className:t.root},o.a.createElement(m.a,{color:"default",className:t.app},o.a.createElement(h.a,{value:i.value,onChange:function(t,a){return e({variables:{value:a}})},indicatorColor:"primary",textColor:"primary"},u.tabs)),o.a.createElement(b.a,{className:t.content,axis:"rtl"===a.direction?"x-reverse":"x",index:i.value,onChangeIndex:function(t){return e({variables:{value:t}})}},u.containers))})})}}]),t}(o.a.PureComponent));t.a=w},691:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a(26),i=a(22),c=a(17),u=a(23),l=a(0),o=a.n(l),s=a(659),d=a(170),b=a(153),p=a(174),m=a(224),f=a(78),h=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=[{tab:"User",container:o.a.createElement(d.default,this.props)},{tab:"Site",container:o.a.createElement(b.default,this.props)},{tab:"Property",container:o.a.createElement(p.default,this.props)}];return o.a.createElement(s.a,{defaults:e,localStateMutation:m.b,localStateQuery:f.b})}}]),t}(l.PureComponent);t.default=h}}]);
//# sourceMappingURL=22.6253e798.chunk.js.map