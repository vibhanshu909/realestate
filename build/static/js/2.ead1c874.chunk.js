webpackJsonp([2],{787:function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?n:t}function a(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=e(1),o=e.n(u),s=e(101),c=e(810),d=e(293),l=e(792),p=e(284),m=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),f=function(n){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,n),m(t,[{key:"render",value:function(){var n=this;return o.a.createElement(s.a,{query:l.h},function(t){var e=t.loading,r=t.error,i=t.data;if(e)return o.a.createElement("span",null,"loading...");if(r)return o.a.createElement("span",null,"Error Occured!");var a={name:{type:"text",default:""},location:{type:"text",default:""},manager:{type:"select",default:i.users,current:null},createdAt:{type:"date",default:new Date}},u=n.props.match.params.id;return o.a.createElement(c.a,Object.assign({},n.props,{query:l.a,defaults:a,skipOnUpdate:["manager","createdAt"]}),function(t){var e=t.update,r=t.defaults;t.queryResult;return console.log(r),o.a.createElement(d.a,Object.assign({},n.props,{defaults:r,mutation:e?p.h:p.a,updateStore:function(n,t){t.data;console.log("inside updateStore...");var e=n.readQuery(l.e);console.log("prevData is....",e)},title:e?"Update this site":"Create a new site",submitText:e?"Update Site":"Create Site",mutateFunc:function(n,t){return n({variables:{id:u,data:t}})}}))})})}}]),t}(u.PureComponent);t.default=f},792:function(n,t,e){"use strict";function r(n,t){return Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}e.d(t,"g",function(){return f}),e.d(t,"f",function(){return y}),e.d(t,"i",function(){return g}),e.d(t,"h",function(){return b}),e.d(t,"c",function(){return $}),e.d(t,"e",function(){return h}),e.d(t,"a",function(){return A}),e.d(t,"d",function(){return k}),e.d(t,"b",function(){return v});var i=e(79),a=(e.n(i),r(["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id,\n            username,            \n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt,\n            count,\n        }\n    }\n"],["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id,\n            username,            \n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt,\n            count,\n        }\n    }\n"])),u=r(["\n    query user($id: String!){\n        user(id: $id) {\n            id,\n            username,\n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt            \n        }\n    }\n"],["\n    query user($id: String!){\n        user(id: $id) {\n            id,\n            username,\n            siteCount,\n            totalSitesCost,\n            totalReceivedAmount,\n            spent,\n            balance,\n            createdAt,\n            updatedAt            \n        }\n    }\n"]),o=r(["\n    query userCreditHistory($id: String!, $limit: Int, $skip: Int){\n        userCreditHistory(id: $id, limit: $limit, skip: $skip) {\n            count\n            history {\n                amount\n                createdAt\n            }\n        }\n    }\n"],["\n    query userCreditHistory($id: String!, $limit: Int, $skip: Int){\n        userCreditHistory(id: $id, limit: $limit, skip: $skip) {\n            count\n            history {\n                amount\n                createdAt\n            }\n        }\n    }\n"]),s=r(["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id\n            username\n        }\n    }\n"],["\n    query users($limit: Int, $skip: Int){\n        users(limit: $limit, skip: $skip) {\n            id\n            username\n        }\n    }\n"]),c=r(["\n  query sites($limit: Int, $skip: Int) {\n    sites(limit: $limit, skip: $skip) {\n        id,\n        name,\n        location,\n        entryCount,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        cost\n    }\n  }\n"],["\n  query sites($limit: Int, $skip: Int) {\n    sites(limit: $limit, skip: $skip) {\n        id,\n        name,\n        location,\n        entryCount,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }\n        managerSpentAmount,\n        cost\n    }\n  }\n"]),d=r(["\n  query sites {\n  sites {\n    id\n    name\n    location\n    entryCount\n    createdAt\n    updatedAt\n    count\n    manager {\n      id\n      name: username\n    }\n    managerSpentAmount\n    cost\n  }\n}\n"],["\n  query sites {\n  sites {\n    id\n    name\n    location\n    entryCount\n    createdAt\n    updatedAt\n    count\n    manager {\n      id\n      name: username\n    }\n    managerSpentAmount\n    cost\n  }\n}\n"]),l=r(["\n  query site($id: String!) {\n    site(id: $id) {\n        id,\n        name,\n        location,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }        \n    }\n  }\n"],["\n  query site($id: String!) {\n    site(id: $id) {\n        id,\n        name,\n        location,\n        createdAt,\n        updatedAt,\n        count\n        manager {\n            id,\n            name: username\n        }        \n    }\n  }\n"]),p=r(["\n    query siteEntries($id: String!, $limit: Int!, $skip: Int){\n        siteEntries(id: $id, limit: $limit, skip: $skip){\n            id,\n            name,\n            location,\n            cost,\n            count,\n            manager {\n                id,\n                name: username,                \n            },\n            managerSpentAmount,\n            entries\n            {\n                id,\n                createdAt,\n                updatedAt,                \n                mistri ",",\n                labour ",",\n                eit ",",\n                morang ",",\n                githi ",",\n                cement ",",\n                saria ",",\n                dust ",",\n                other ",",\n                managerSpentAmount,\n                total\n            }\n        }\n    }\n"],["\n    query siteEntries($id: String!, $limit: Int!, $skip: Int){\n        siteEntries(id: $id, limit: $limit, skip: $skip){\n            id,\n            name,\n            location,\n            cost,\n            count,\n            manager {\n                id,\n                name: username,                \n            },\n            managerSpentAmount,\n            entries\n            {\n                id,\n                createdAt,\n                updatedAt,                \n                mistri ",",\n                labour ",",\n                eit ",",\n                morang ",",\n                githi ",",\n                cement ",",\n                saria ",",\n                dust ",",\n                other ",",\n                managerSpentAmount,\n                total\n            }\n        }\n    }\n"]),m=r(["\n    query siteEntry($id: String!){\n        siteEntry(id: $id){\n            id,\n            createdAt,\n            updatedAt,                \n            mistri ",",\n            labour ",",\n            eit ",",\n            morang ",",\n            githi ",",\n            cement ",",\n            saria ",",\n            dust ",",\n            other ",",\n            managerSpentAmount,\n            total\n        }\n    }\n"],["\n    query siteEntry($id: String!){\n        siteEntry(id: $id){\n            id,\n            createdAt,\n            updatedAt,                \n            mistri ",",\n            labour ",",\n            eit ",",\n            morang ",",\n            githi ",",\n            cement ",",\n            saria ",",\n            dust ",",\n            other ",",\n            managerSpentAmount,\n            total\n        }\n    }\n"]),f=Object(i.gql)(a),y=Object(i.gql)(u),g=Object(i.gql)(o),b=Object(i.gql)(s),$=Object(i.gql)(c),h=Object(i.gql)(d),A=Object(i.gql)(l),O="{\n    quantity,\n    cost,\n    paid\n}",k=Object(i.gql)(p,O,O,O,O,O,O,O,O,O),v=Object(i.gql)(m,O,O,O,O,O,O,O,O,O)},794:function(n,t,e){"use strict";t.a=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(n).filter(function(n){return!t.includes(n)}).reduce(function(t,e){return t[e]=n[e],t},{})}},810:function(n,t,e){"use strict";function r(n,t){var e={};for(var r in n)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function a(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?n:t}function u(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var o=e(1),s=e.n(o),c=e(101),d=e(794),l=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),p=function(n){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,n),l(t,[{key:"formatDate",value:function(n){var t=new Date(n),e=""+(t.getMonth()+1),r=""+t.getDate(),i=t.getFullYear();return e.length<2&&(e="0"+e),r.length<2&&(r="0"+r),[i,e,r].join("-")}},{key:"mergeData",value:function(n,t){var e=this,r={};return Object.keys(n).forEach(function(i){if(r[i]=Object.assign({},n[i]),"string"===typeof n[i].default||"number"===typeof n[i].default)r[i].default=t[i];else if(n[i].default instanceof Array);else if(n[i].type===Boolean)r[i].default=t[i];else if("date"===n[i].type)r[i].default=e.formatDate(t[i]);else{if(!(n[i].default instanceof Object))throw new Error("merge error");r[i].default=Object.assign({},e.mergeData(n[i].default,t[i]))}}),r}},{key:"render",value:function(){var n=this,t=this.props.match.params,e=t.edit,i=void 0!==e&&e,a=r(t,["edit"]),u=this.props,o=u.query,l=u.getQueryVariables,p=void 0===l?function(n){return{id:n.id}}:l,m=u.defaults,f=u.skipOnUpdate,y=m;return i?(y=Object(d.a)(m,f),s.a.createElement(c.a,{query:o,variables:p(a),fetchPolicy:"cache-and-network"},function(t){var e=t.loading,r=t.error,i=t.data;if(e)return s.a.createElement("span",null,"loading...");if(r)return s.a.createElement("span",null,"Error Occured!");var a=n.mergeData(y,i[Object.keys(i)[0]]);return n.props.children({update:!0,defaults:a,queryResult:i})})):this.props.children({update:!1,defaults:y,queryResult:null})}}]),t}(o.PureComponent);t.a=p}});
//# sourceMappingURL=2.ead1c874.chunk.js.map